import{d as e,r as t,e as a,o as l,c as i,w as o,u as n,C as s,g as r,i as x,a as d,m as h,p as y}from"./index-e92cd80c.js";import{i as g,U as f}from"./index.3daaf475.js";import{_ as c}from"./plugin-vueexport-helper.1b428a4d.js";const u=c(e({name:"UQSimpleBar",props:{label:{type:Array},data:{type:Array},labelType:{type:String,default:"xAxis"},color:{type:String,default:"rgb(84,112,198)"}},setup(e){const d=e;let h="ui-simple-bar-"+(1e4*Math.random()).toFixed(0),y=r(),c=t(0),u=t(0),p=t(),b=new g.BarLayout({});return a((()=>{uni.createSelectorQuery().in(y).select("#"+h).boundingClientRect((e=>{c.value=e.width,u.value=e.height,setTimeout((()=>{p.value.fetch().then((e=>{b.setOption({x:50,y:u.value-50,width:c.value-100,height:u.value-100,category:d.labelType}).bind({category:d.label,data:d.data},(function(t){!function(e,t){if("category"===t.xAxis.type){let a=t.width/t.xAxis.data.length;e.config({strokeStyle:"black",fillStyle:"black"});for(let l=0;l<=t.xAxis.data.length;l++){let i=l*a+t.x;e.beginPath().moveTo(i,t.y).lineTo(i,t.y+5).stroke()}e.config({textBaseline:"top",textAlign:"center",fontSize:10});for(let l=0;l<t.xAxis.data.length;l++)e.fillText(t.xAxis.data[l],(l+.5)*a+t.x,t.y+7)}else{let a=t.width/(t.xAxis.data.length-1);e.config({strokeStyle:"#aaa",fillStyle:"black",textAlign:"center",textBaseline:"top",fontSize:10});for(let l=0;l<t.xAxis.data.length;l++){let i=t.x+l*a;e.beginPath().moveTo(i,t.y).lineTo(i,t.y-t.height).stroke(),e.fillText(t.xAxis.data[l],i,t.y+4)}}if("category"===t.yAxis.type){let a=t.height/t.yAxis.data.length;e.config({strokeStyle:"black",fillStyle:"black"});for(let l=0;l<=t.yAxis.data.length;l++){let i=l*a+t.y-t.height;e.beginPath().moveTo(t.x,i).lineTo(t.x-5,i).stroke()}e.config({textBaseline:"middle",textAlign:"right",fontSize:10});for(let l=0;l<t.yAxis.data.length;l++)e.fillText(t.yAxis.data[l],t.x-7,(l+.5)*a+t.y-t.height)}else{let a=t.height/(t.yAxis.data.length-1);e.config({strokeStyle:"#aaa",fillStyle:"black",textAlign:"right",textBaseline:"middle",fontSize:10});for(let l=0;l<t.yAxis.data.length;l++){let i=t.y-l*a;e.beginPath().moveTo(t.x,i).lineTo(t.x+t.width,i).stroke(),e.fillText(t.yAxis.data[l],t.x-3,i)}}}(e,t.coordinate);for(let a=0;a<t.node.length;a++){e.config({fillStyle:d.color});for(let l of t.node[a].bar)e.fillRect(l.x,l.y,l.width,l.height)}e.draw()}))}))}),200)})).exec()})),(e,t)=>{const a=x;return l(),i(a,{class:"simple-bar-container",id:n(h)},{default:o((()=>[0!=n(c)&&0!=n(u)?(l(),i(f,{key:0,ref_key:"canvasRef",ref:p,width:n(c),height:n(u)},null,8,["width","height"])):s("",!0)])),_:1},8,["id"])}}}),[["__scopeId","data-v-de39ae39"]]),p=c(e({__name:"index",setup(e){let t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],a=[120,200,150,80,70,110,130];return(e,s)=>{const r=h(y("ui-simple-bar"),u),g=x;return l(),i(g,{class:"example-container"},{default:o((()=>[d(g,{style:{height:"500rpx"}},{default:o((()=>[d(r,{label:n(t),data:n(a),"label-type":"xAxis"},null,8,["label","data"])])),_:1}),d(g,{style:{height:"700rpx"}},{default:o((()=>[d(r,{color:"red",label:n(t),data:n(a),"label-type":"yAxis"},null,8,["label","data"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-42930b56"]]);export{p as default};
