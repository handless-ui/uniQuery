import{d as e,r as a,e as t,o as i,c as n,w as l,u as o,C as s,g as u,i as r,a as d,m as c,p}from"./index-3f6a7c5d.js";import{i as f,U as m}from"./index.0cb25950.js";import{_ as h}from"./plugin-vueexport-helper.1b428a4d.js";const v=h(e({name:"UQSimplePie",props:{data:{type:Array,default:[]}},setup(e){const d=e;let c="ui-simple-pie-"+(1e4*Math.random()).toFixed(0),p=u(),h=a(0),v=a(0),g=a(),x=new f.PieLayout({});return t((()=>{uni.createSelectorQuery().in(p).select("#"+c).boundingClientRect((e=>{h.value=e.width,v.value=e.height,setTimeout((()=>{g.value.fetch().then((e=>{x.setOption({cx:.5*h.value,cy:.5*v.value,radius:[0,.5*Math.min(h.value,v.value)-90]}).bind(d.data,(function(a){e.clearRect(0,0,h.value,v.value);let t=f.getLoopColors(a.count);for(let i=0;i<a.count;i++){e.config({fillStyle:t[i]}).fillArc(a.cx,a.cy,a.node[i].radius[0],a.node[i].radius[1],a.node[i].beginDeg,a.node[i].deg);let n=a.node[i].label;e.config({strokeStyle:t[i],lineWidth:1.5}).beginPath().moveTo(n.line[0][0],n.line[0][1]).lineTo(n.line[1][0],n.line[1][1]).lineTo(n.line[2][0],n.line[2][1]).stroke(),e.config({fillStyle:"#929292",textAlign:n.align,fontSize:12,fontWeight:400}).fillText(a.node[i].name,n.position[0],n.position[1])}e.draw()}))}))}),200)})).exec()})),(e,a)=>{const t=r;return i(),n(t,{class:"simple-pie-container",id:o(c)},{default:l((()=>[0!=o(h)&&0!=o(v)?(i(),n(m,{key:0,ref_key:"canvasRef",ref:g,width:o(h),height:o(v)},null,8,["width","height"])):s("",!0)])),_:1},8,["id"])}}}),[["__scopeId","data-v-b46589f3"]]),g=h(e({__name:"index",setup(e){let a=[{value:1048,name:"搜索引擎"},{value:735,name:"直接收入"},{value:580,name:"邮箱"},{value:484,name:"工会广告"},{value:300,name:"视频广告"}];return(e,t)=>{const s=c(p("ui-simple-pie"),v),u=r;return i(),n(u,{class:"example-container"},{default:l((()=>[d(u,{style:{height:"750rpx"}},{default:l((()=>[d(s,{data:o(a)},null,8,["data"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-102fc822"]]);export{g as default};
