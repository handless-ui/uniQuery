import{L as t,d as i,r as e,o as n,c as r,w as o,a as s,u as _,x as h,g as a,O as u,i as l}from"./index-df4b44f3.js";import{_ as p}from"./plugin-vueexport-helper.1b428a4d.js";var c={exports:{}},f=c.exports=function(){var t=function(){function t(t){void 0===t&&(t=.5),this.name="Hermite",this.__u=t}return t.prototype.setP=function(t,i,e,n,r,o){if(!(t<e))throw new Error("The point x-position should be increamented!");this.__a=t,this.__b=e;var s=this.__u*r,_=this.__u*o;return i/=e-t,n/=e-t,this.__MR=[2*i-2*n+s+_,3*n-3*i-2*s-_,s,i],this},t.prototype.use=function(t){if(this.__MR){var i=(t-this.__a)/(this.__b-this.__a),e=i*i;return(i*e*this.__MR[0]+e*this.__MR[1]+i*this.__MR[2]+this.__MR[3])*(this.__b-this.__a)}throw new Error("You shoud first set the position!")},t}(),i=function(){function i(t){void 0===t&&(t=0),this.name="Cardinal",this.__t=t}return i.prototype.setP=function(i){this.__HS={x:[],h:[]};var e,n,r=(i[1][1]-i[0][1])/(i[1][0]-i[0][0]);for(this.__HS.x[0]=i[0][0],e=1;e<i.length;e++){if(i[e][0]<=i[e-1][0])throw new Error("The point position should be increamented!");this.__HS.x[e]=i[e][0],n=e<i.length-1?i[e+1][1]>i[e][1]&&i[e-1][1]>i[e][1]||i[e+1][1]<i[e][1]&&i[e-1][1]<i[e][1]||i[e+1][1]==i[e][1]||i[e-1][1]==i[e][1]?0:(i[e+1][1]-i[e-1][1])/(i[e+1][0]-i[e-1][0]):(i[e][1]-i[e-1][1])/(i[e][0]-i[e-1][0]),this.__HS.h[e-1]=new t(.5*(1-this.__t)).setP(i[e-1][0],i[e-1][1],i[e][0],i[e][1],r,n),r=n}return this},i.prototype.use=function(t){if(this.__HS){for(this.__i=-1;this.__i+1<this.__HS.x.length&&(t>this.__HS.x[this.__i+1]||-1==this.__i&&t>=this.__HS.x[this.__i+1]);)this.__i+=1;return this.__i<0?this.__HS.h[0].use(this.__HS.x[0]):this.__i>=this.__HS.h.length?this.__HS.h[this.__HS.h.length-1].use(this.__HS.x[this.__HS.x.length-1]):this.__HS.h[this.__i].use(t)}throw new Error("You shoud first set the position!")},i}(),e=function(t,i){for(var e=[],n=0;n<4;n++)for(var r=0;r<i.length/4;r++)e[4*r+n]=t[n]*i[4*r]+t[n+4]*i[4*r+1]+t[n+8]*i[4*r+2]+t[n+12]*i[4*r+3];return e},n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r=function(){function t(t){void 0===t&&(t=n),this.name="Matrix4",this.__matrix4=t}return t.prototype.setValue=function(t){return void 0===t&&(t=n),this.__matrix4=t,this},t.prototype.move=function(t,i,n,r){return void 0===r&&(r=0),this.__matrix4=e(function(t,i,e,n){void 0===n&&(n=0);var r=Math.sqrt(i*i+e*e+n*n);return[1,0,0,0,0,1,0,0,0,0,1,0,i*t/r,e*t/r,n*t/r,1]}(t,i,n,r),this.__matrix4),this},t.prototype.rotate=function(t,i,n,r,o,s,_){var h,a,u,l=function(t,i,e,n,r,o){if("number"==typeof t&&"number"==typeof i){if("number"!=typeof e?(e=0,n=t,r=i,o=1):"number"==typeof n&&"number"==typeof r&&"number"==typeof o||(n=t,r=i,o=e,t=0,i=0,e=0),t==n&&i==r&&e==o)throw new Error("It's not a legitimate ray!");var s=Math.sqrt((n-t)*(n-t)+(r-i)*(r-i)),_=0!=s?(r-i)/s:1,h=0!=s?(n-t)/s:0,a=(n-t)*h+(r-i)*_,u=o-e,l=Math.sqrt(a*a+u*u),p=0!=l?u/l:1,c=0!=l?a/l:0;return[[_,p*h,h*c,0,-h,_*p,_*c,0,0,-c,p,0,i*h-t*_,e*c-t*h*p-i*_*p,-t*h*c-i*_*c-e*p,1],[_,-h,0,0,p*h,p*_,-c,0,h*c,_*c,p,0,t,i,e,1]]}throw new Error("a1 and b1 is required!")}(i,n,r,o,s,_);return this.__matrix4=e(e(e(l[1],(h=t,a=Math.sin(h),[u=Math.cos(h),a,0,0,-a,u,0,0,0,0,1,0,0,0,0,1])),l[0]),this.__matrix4),this},t.prototype.scale=function(t,i,n,r,o,s){return void 0===r&&(r=0),void 0===o&&(o=0),void 0===s&&(s=0),this.__matrix4=e((void 0===(u=r)&&(u=0),void 0===(l=o)&&(l=0),void 0===(p=s)&&(p=0),[_=t,0,0,0,0,h=i,0,0,0,0,a=n,0,u-u*_,l-l*h,p-p*a,1]),this.__matrix4),this;var _,h,a,u,l,p},t.prototype.multiply=function(t,i){return void 0===i&&(i=!1),this.__matrix4=i?e(this.__matrix4,t):e(t,this.__matrix4),this},t.prototype.use=function(t,i,n,r){return void 0===n&&(n=0),void 0===r&&(r=1),e(this.__matrix4,[t,i,n,r])},t.prototype.value=function(){return this.__matrix4},t}();function o(t,i,e,n,r){var o=Math.cos(e),s=Math.sin(e);return[(n-t)*o-(r-i)*s+t,(n-t)*s+(r-i)*o+i]}var s,_=[];function h(t,i,e){arguments.length<2&&(i=400),arguments.length<3&&(e=function(){});var n={timer:function(t,i,e){if(!t)throw new Error("Tick is required!");var r=(new Date).valueOf()+"_"+(1e3*Math.random()).toFixed(0);return _.push({id:r,createTime:new Date,tick:t,duration:i,callback:e}),n.start(),r},start:function(){s||(s=setInterval(n.tick,13))},tick:function(){var t,i,e,r,o,s,h,a=_;for((_=[]).length=0,i=0;i<a.length;i++)t=(o=a[i]).createTime,e=o.tick,s=o.duration,r=o.callback,e(h=(h=(+(new Date).valueOf()-t.valueOf())/s)>1?1:h),h<1&&o.id?_.push(o):r(h);_.length<=0&&n.stop()},stop:function(){s&&(clearInterval(s),s=null)}},r=n.timer((function(i){t(i)}),i,e);return function(){var t;for(t in _)if(_[t].id==r)return void(_[t].id=void 0)}}var a=function(t,i){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])})(t,i)};function u(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=t}a(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}var l=function(){return l=Object.assign||function(t){for(var i,e=1,n=arguments.length;e<n;e++)for(var r in i=arguments[e])Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);return t},l.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var p=["href","title","show","type","role","actuate"];function c(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}var f=function(t,i,e){p.indexOf(i)>-1?t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:"+i,e+""):t.setAttribute(i,e+"")},d=f;function g(t,i){f(t,"stroke",i.strokeStyle),f(t,"fill",i.fillStyle)}function v(t,i){f(t,"fill",i.fillStyle)}function y(t,i){f(t,"stroke",i.strokeStyle),f(t,"fill","none")}var m=function(t,i,e,n,r){var o=Math.cos(e),s=Math.sin(e);return[+((n-t)*o-(r-i)*s+t).toFixed(7),+((n-t)*s+(r-i)*o+i).toFixed(7)]};function w(t,i,e,n,r,o,s){i<0&&(t+=i,i*=-1);var _,h=[];_=m(0,0,t,r,0),h[0]=_[0],h[1]=_[1],_=m(0,0,i,_[0],_[1]),h[2]=_[0],h[3]=_[1],_=m(0,0,t,o,0),h[4]=_[0],h[5]=_[1],_=m(0,0,i,_[0],_[1]),h[6]=_[0],h[7]=_[1],s(t,t+i,h[0]+e,h[1]+n,h[4]+e,h[5]+n,h[2]+e,h[3]+n,h[6]+e,h[7]+n,.5*(o-r))}var E=function(t){var i=t.getElementsByTagName("defs");if(i.length<=0){var e=c("defs");return t.appendChild(e),e}return i[0]},T=function(t,i,e,n,r){if("text"!==t.nodeName.toLowerCase())throw new Error("Need a <text> !");d(t,"dy",{top:.5*i.fontSize,middle:0,bottom:.5*-i.fontSize}[i.textBaseline]),function(t,i){for(var e in i)t.style[e]=i[e]}(t,{"text-anchor":{left:"start",right:"end",center:"middle"}[i.textAlign],"dominant-baseline":"central","font-size":i.fontSize+"px","font-family":i.fontFamily}),d(t,"x",e),d(t,"y",n),"number"==typeof r&&d(t,"transform","rotate("+(r%=360)+","+e+","+n+")")},x=function(t,i,e,n){if("circle"!==t.nodeName.toLowerCase())throw new Error("Need a <circle> !");d(t,"cx",i),d(t,"cy",e),d(t,"r",n)},b=function(t,i,e){if("path"!==t.nodeName.toLowerCase())throw new Error("Need a <path> !");d(t,"d",i),d(t,"stroke-dasharray",e.lineDash.join(",")),d(t,"stroke-width",e.lineWidth+""),d(t,"stroke-linecap",e.lineCap+""),d(t,"stroke-linejoin",e.lineJoin+"")},P=function(t,i,e,n,r){if("rect"!==t.nodeName.toLowerCase())throw new Error("Need a <rect> !");r<0&&(e-=r*=-1),n<0&&(i-=n*=-1),d(t,"x",i),d(t,"y",e),d(t,"width",n),d(t,"height",r)},C=function(t,i,e,n,r,o,s,_){if("path"!==t.nodeName.toLowerCase())throw new Error("Need a <path> !");if(s=s/180*Math.PI,_=_/180*Math.PI,s%=2*Math.PI,r>o){var h=r;r=o,o=h}_>=1.999999*Math.PI||_<=1.999999*-Math.PI?_=1.999999*Math.PI:_%=2*Math.PI,w(s,_,e,n,r,o,(function(e,n,s,_,h,a,u,l,p,c,f){var g=n-e>Math.PI?1:0,v="M"+s+" "+_;f<0&&(f=-f),v+="A"+r+" "+r+" 0 "+g+" 1 "+u+" "+l,"round"==i.arcEndCap?v+="A"+f+" "+f+"  0 1 0 "+p+" "+c:"-round"==i.arcEndCap?v+="A"+f+" "+f+"  0 1 1 "+p+" "+c:v+="L"+p+" "+c,v+="A"+o+" "+o+" 0 "+g+" 0 "+h+" "+a,"round"==i.arcStartCap?v+="A"+f+" "+f+"  0 1 0 "+s+" "+_:"-round"==i.arcStartCap?v+="A"+f+" "+f+"  0 1 1 "+s+" "+_:v+="L"+s+" "+_,"butt"==i.arcStartCap&&(v+="Z"),d(t,"d",v)}))},R=function(t,i){var e={value:function(){return"url(#"+i+")"},setColor:function(i,n){var r=c("stop");return t.appendChild(r),d(r,"offset",100*i+"%"),d(r,"style","stop-color:"+n+";"),e}};return e},S=function(t){function i(i){if(!i)throw new Error("VISLite SVG:The mount point requires an HTMLElement type but encountered null.");var e=i.clientWidth,n=i.clientHeight,r=document.createElementNS("http://www.w3.org/2000/svg","svg");return i.appendChild(r),r.setAttribute("width",e+""),r.setAttribute("height",n+""),r.setAttribute("viewBox","0 0 "+e+" "+n),t.call(this,r)||this}return u(i,t),i}(function(){function t(t){this.name="SVG",this.__config={fillStyle:"#000",strokeStyle:"#000",textAlign:"left",textBaseline:"middle",fontSize:16,fontFamily:"sans-serif",arcStartCap:"butt",arcEndCap:"butt",lineDash:[],lineWidth:1,lineCap:"butt",lineJoin:"miter"},this.__path="",this.__currentPosition=[],this.__svg=t}return t.prototype.config=function(t){if("object"!=typeof t)return this.__config[t];for(var i in t)this.__config[i]=t[i];return this},t.prototype.reset=function(){return this.config({fillStyle:"#000",strokeStyle:"#000",textAlign:"left",textBaseline:"middle",fontSize:16,fontFamily:"sans-serif",arcStartCap:"butt",arcEndCap:"butt",lineDash:[],lineWidth:1,lineCap:"butt",lineJoin:"miter"}),this},t.prototype.useEl=function(t){return this.__useEl=t,this},t.prototype.getEl=function(){return this.__useEl},t.prototype.appendEl=function(t,i){return i=i||this.__svg,"string"==typeof t&&(t=c(t)),i.appendChild(t),this.__useEl=t,this},t.prototype.appendBoard=function(t,i){var e=t;if("string"==typeof t&&(e={text:"text",path:"path",arc:"path",circle:"circle",rect:"rect"}[t]||""),""==e)throw new Error("Unsupported drawing method:"+t);return this.appendEl(e,i)},t.prototype.remove=function(){if(!this.__useEl)throw new Error("Currently, no node can be deleted.");return this.__useEl.parentNode.removeChild(this.__useEl),this},t.prototype.attr=function(t){if(!this.__useEl)throw new Error("Currently, no node can be modified or viewed.");if("object"!=typeof t)return i=this.__useEl,e=t,p.indexOf(e)>-1&&(e="xlink:"+e),i.getAttribute(e);var i,e;for(var n in t)d(this.__useEl,n,t[n]);return this},t.prototype.fillText=function(t,i,e,n){return void 0===n&&(n=0),T(this.__useEl,this.__config,i,e,n),this.__useEl.textContent=t,v(this.__useEl,this.__config),this},t.prototype.strokeText=function(t,i,e,n){return void 0===n&&(n=0),T(this.__useEl,this.__config,i,e,n),this.__useEl.textContent=t,y(this.__useEl,this.__config),this},t.prototype.fullText=function(t,i,e,n){return void 0===n&&(n=0),T(this.__useEl,this.__config,i,e,n),this.__useEl.textContent=t,g(this.__useEl,this.__config),this},t.prototype.fillArc=function(t,i,e,n,r,o){return C(this.__useEl,this.__config,t,i,e,n,r,o),v(this.__useEl,this.__config),this},t.prototype.strokeArc=function(t,i,e,n,r,o){return C(this.__useEl,this.__config,t,i,e,n,r,o),y(this.__useEl,this.__config),this},t.prototype.fullArc=function(t,i,e,n,r,o){return C(this.__useEl,this.__config,t,i,e,n,r,o),g(this.__useEl,this.__config),this},t.prototype.fillCircle=function(t,i,e){return x(this.__useEl,t,i,e),v(this.__useEl,this.__config),this},t.prototype.strokeCircle=function(t,i,e){return x(this.__useEl,t,i,e),y(this.__useEl,this.__config),this},t.prototype.fullCircle=function(t,i,e){return x(this.__useEl,t,i,e),g(this.__useEl,this.__config),this},t.prototype.fillRect=function(t,i,e,n){return P(this.__useEl,t,i,e,n),v(this.__useEl,this.__config),this},t.prototype.strokeRect=function(t,i,e,n){return P(this.__useEl,t,i,e,n),y(this.__useEl,this.__config),this},t.prototype.fullRect=function(t,i,e,n){return P(this.__useEl,t,i,e,n),g(this.__useEl,this.__config),this},t.prototype.beginPath=function(){return this.__currentPosition=[],this.__path="",this},t.prototype.closePath=function(){return this.__path+="Z",this},t.prototype.moveTo=function(t,i){return this.__currentPosition=[t,i],this.__path+="M"+t+" "+i,this},t.prototype.lineTo=function(t,i){return this.__currentPosition=[t,i],this.__path+=(""==this.__path?"M":"L")+t+" "+i,this},t.prototype.fill=function(){return b(this.__useEl,this.__path,this.__config),v(this.__useEl,this.__config),this},t.prototype.stroke=function(){return b(this.__useEl,this.__path,this.__config),y(this.__useEl,this.__config),this},t.prototype.full=function(){return b(this.__useEl,this.__path,this.__config),g(this.__useEl,this.__config),this},t.prototype.arc=function(t,i,e,n,r){var s=o(t,i,n/180*Math.PI,t+e,i),_=o(t,i,(n+r)/180*Math.PI,t+e,i);return""==this.__path?this.__path+="M"+s[0]+","+s[1]:s[0]==this.__currentPosition[0]&&s[1]==this.__currentPosition[1]||(this.__path+="L"+s[0]+","+s[1]),this.__path+="A"+e+","+e+" 0 "+(r>180||r<-180?1:0)+","+(r>0?1:0)+" "+_[0]+","+_[1],this},t.prototype.quadraticCurveTo=function(t,i,e,n){return this.__path+="Q"+t+" "+i+","+e+" "+n,this},t.prototype.bezierCurveTo=function(t,i,e,n,r,o){return this.__path+="C"+t+" "+i+","+e+" "+n+","+r+" "+o,this},t.prototype.bind=function(t,i){return this.__useEl.addEventListener(t,(function(t){i.call(this,t,this)}),!1),this},t.prototype.createLinearGradient=function(t,i,e,n){return r=this.__svg,o=t,s=i,_=e,h=n,a=E(r),u="vislite-lg-"+(new Date).valueOf()+"-"+Math.random(),l=c("linearGradient"),a.appendChild(l),d(l,"id",u),d(l,"x1",o+"%"),d(l,"y1",s+"%"),d(l,"x2",_+"%"),d(l,"y2",h+"%"),R(l,u);var r,o,s,_,h,a,u,l},t.prototype.createRadialGradient=function(t,i,e){return n=this.__svg,r=t,o=i,s=e,_=E(n),h="vislite-rg-"+(new Date).valueOf()+"-"+Math.random(),a=c("radialGradient"),_.appendChild(a),d(a,"id",h),d(a,"cx",r+"%"),d(a,"cy",o+"%"),d(a,"r",s+"%"),R(a,h);var n,r,o,s,_,h,a},t}()),M=function(t,i,e,n,r){return t.beginPath(),t.translate(e,n),t.rotate(r),t.font=i.fontStyle+" "+i.fontWeight+" "+i.fontSize+"px "+i.fontFamily,t},A=function(t,i,e,n,r,o,s,_){if(r>o){var h=r;r=o,o=h}return s%=2*Math.PI,_>=1.999999*Math.PI||_<=1.999999*-Math.PI?_=2*Math.PI:_%=2*Math.PI,w(s,_,e,n,r,o,(function(s,_,h,a,u,l,p,c,f,d,g){g<0&&(g=-g),t.beginPath(),t.moveTo(h,a),t.arc(e,n,r,s,_,!1),"round"==i.arcEndCap?t.arc(.5*(p+f),.5*(c+d),g,_-Math.PI,_,!0):"-round"==i.arcEndCap?t.arc(.5*(p+f),.5*(c+d),g,_-Math.PI,_,!1):t.lineTo(f,d),t.arc(e,n,o,_,s,!0),"round"==i.arcStartCap?t.arc(.5*(h+u),.5*(a+l),g,s,s-Math.PI,!0):"-round"==i.arcStartCap?t.arc(.5*(h+u),.5*(a+l),g,s,s-Math.PI,!1):t.lineTo(h,a)})),"butt"==i.arcStartCap&&t.closePath(),t},I=function(t,i,e,n){return t.beginPath(),t.moveTo(i+n,e),t.arc(i,e,n,0,2*Math.PI),t},k=function(t,i,e,n,r){return t.beginPath(),t.rect(i,e,n,r),t};function L(t,i,e,n,r){for(var o=0,s="",_=0;_<i.length;_++)t.measureText(s+i[_]).width>e||/\n$/.test(s)?(r(s,((o+=1)-.5)*n),s=i[_]):_==i.length-1?(o+=1,r(s+i[_],(o-.5)*n)):s+=i[_];return o*n}function O(t){var i={fontSize:16,fontFamily:"sans-serif",fontWeight:400,fontStyle:"normal",arcStartCap:"butt",arcEndCap:"butt"},e={fillStyle:"black",strokeStyle:"black",lineWidth:1,lineCap:"butt",lineJoin:"miter",lineDash:[],textAlign:"left",textBaseline:"middle",shadowBlur:0,shadowColor:"black"};return"special"==t?i:"init"==t?e:l(l({},i),e)}var V=function(){function t(t,i,e,n,r){void 0===i&&(i={}),void 0===n&&(n=!1),this.__region=null,this.__onlyRegion=!1,this.__onlyView=!1,this.__specialConfig=O("special"),this.__initConfig=O("init"),this.painter=t.getContext("2d",i),this.__region=e,this.__isPainter=n,this.painter.textBaseline="middle",this.painter.textAlign="left"}return t.prototype.useConfig=function(t,i){if(this.__region&&!this.__onlyView&&["fillStyle","strokeStyle","shadowBlur","shadowColor"].indexOf(t)<0&&this.__region.useConfig(t,i),this.__isPainter&&this.__onlyRegion)return this;if("lineDash"==t)this.painter.setLineDash&&this.painter.setLineDash(i);else if(t in this.__specialConfig)"fontSize"==t&&(i=Math.round(i)),this.__specialConfig[t]=i;else{if(!(t in this.__initConfig))throw new Error("Illegal configuration item of painter : "+t+" !");this.painter[t]=i}return this},t.prototype.fillText=function(t,i,e,n){return void 0===n&&(n=0),this.__region&&!this.__onlyView&&this.__region.fillText(t,i,e,n),this.__isPainter&&this.__onlyRegion||(this.painter.save(),M(this.painter,this.__specialConfig,i,e,n).fillText(t,0,0),this.painter.restore()),this},t.prototype.strokeText=function(t,i,e,n){return void 0===n&&(n=0),this.__region&&!this.__onlyView&&this.__region.strokeText(t,i,e,n),this.__isPainter&&this.__onlyRegion||(this.painter.save(),M(this.painter,this.__specialConfig,i,e,n).strokeText(t,0,0),this.painter.restore()),this},t.prototype.fullText=function(t,i,e,n){return void 0===n&&(n=0),this.__region&&!this.__onlyView&&this.__region.fullText(t,i,e,n),this.__isPainter&&this.__onlyRegion||(this.painter.save(),M(this.painter,this.__specialConfig,i,e,n),this.painter.fillText(t,0,0),this.painter.strokeText(t,0,0),this.painter.restore()),this},t.prototype.fillTexts=function(t,i,e,n,r,o){var s=this;void 0===r&&(r=1.2),void 0===o&&(o=0);var _=0;if(this.__region&&!this.__onlyView&&(_=this.__region.fillTexts(t,i,e,n,r)),this.__isPainter&&this.__onlyRegion)return _;this.painter.save(),M(this.painter,this.__specialConfig,i,e,o);var h=L(this.painter,t,n,this.__specialConfig.fontSize*r,(function(t,i){s.painter.fillText(t,0,i)}));return this.painter.restore(),h},t.prototype.strokeTexts=function(t,i,e,n,r,o){var s=this;void 0===r&&(r=1.2),void 0===o&&(o=0);var _=0;if(this.__region&&!this.__onlyView&&(_=this.__region.fillTexts(t,i,e,n,r)),this.__isPainter&&this.__onlyRegion)return _;this.painter.save(),M(this.painter,this.__specialConfig,i,e,o);var h=L(this.painter,t,n,this.__specialConfig.fontSize*r,(function(t,i){s.painter.strokeText(t,0,i)}));return this.painter.restore(),h},t.prototype.fullTexts=function(t,i,e,n,r,o){var s=this;void 0===r&&(r=1.2),void 0===o&&(o=0);var _=0;if(this.__region&&!this.__onlyView&&(_=this.__region.fillTexts(t,i,e,n,r)),this.__isPainter&&this.__onlyRegion)return _;this.painter.save(),M(this.painter,this.__specialConfig,i,e,o);var h=L(this.painter,t,n,this.__specialConfig.fontSize*r,(function(t,i){s.painter.fillText(t,0,i),s.painter.strokeText(t,0,i)}));return this.painter.restore(),h},t.prototype.beginPath=function(){return this.__region&&!this.__onlyView&&this.__region.beginPath(),this.__isPainter&&this.__onlyRegion||this.painter.beginPath(),this},t.prototype.closePath=function(){return this.__region&&!this.__onlyView&&this.__region.closePath(),this.__isPainter&&this.__onlyRegion||this.painter.closePath(),this},t.prototype.moveTo=function(t,i){return this.__region&&!this.__onlyView&&this.__region.moveTo(t,i),this.__isPainter&&this.__onlyRegion||this.painter.moveTo(Math.round(t)+.5,Math.round(i)+.5),this},t.prototype.lineTo=function(t,i){return this.__region&&!this.__onlyView&&this.__region.lineTo(t,i),this.__isPainter&&this.__onlyRegion||this.painter.lineTo(Math.round(t)+.5,Math.round(i)+.5),this},t.prototype.arc=function(t,i,e,n,r){return this.__region&&!this.__onlyView&&this.__region.arc(t,i,e,n,r),this.__isPainter&&this.__onlyRegion||this.painter.arc(t,i,e,n,n+r,r<0),this},t.prototype.fill=function(){return this.__region&&!this.__onlyView&&this.__region.fill(),this.__isPainter&&this.__onlyRegion||this.painter.fill(),this},t.prototype.stroke=function(){return this.__region&&!this.__onlyView&&this.__region.stroke(),this.__isPainter&&this.__onlyRegion||this.painter.stroke(),this},t.prototype.full=function(){return this.__region&&!this.__onlyView&&this.__region.full(),this.__isPainter&&this.__onlyRegion||(this.painter.fill(),this.painter.stroke()),this},t.prototype.save=function(){return this.__region&&!this.__onlyView&&this.__region.save(),this.__isPainter&&this.__onlyRegion||this.painter.save(),this},t.prototype.restore=function(){return this.__region&&!this.__onlyView&&this.__region.restore(),this.__isPainter&&this.__onlyRegion||this.painter.restore(),this},t.prototype.clip=function(){return this.__region&&!this.__onlyView&&this.__region.clip(),this.__isPainter&&this.__onlyRegion||this.painter.clip(),this},t.prototype.quadraticCurveTo=function(t,i,e,n){return this.__region&&!this.__onlyView&&this.__region.quadraticCurveTo(t,i,e,n),this.__isPainter&&this.__onlyRegion||this.painter.quadraticCurveTo(t,i,e,n),this},t.prototype.bezierCurveTo=function(t,i,e,n,r,o){return this.__region&&!this.__onlyView&&this.__region.bezierCurveTo(t,i,e,n,r,o),this.__isPainter&&this.__onlyRegion||this.painter.bezierCurveTo(t,i,e,n,r,o),this},t.prototype.clearRect=function(t,i,e,n){return this.__region&&!this.__onlyView&&this.__region.clearRect(t,i,e,n),this.__isPainter&&this.__onlyRegion||this.painter.clearRect(t,i,e,n),this},t.prototype.fillArc=function(t,i,e,n,r,o){return this.__region&&!this.__onlyView&&this.__region.fillArc(t,i,e,n,r,o),this.__isPainter&&this.__onlyRegion||A(this.painter,this.__specialConfig,t,i,e,n,r,o).fill(),this},t.prototype.strokeArc=function(t,i,e,n,r,o){return this.__region&&!this.__onlyView&&this.__region.strokeArc(t,i,e,n,r,o),this.__isPainter&&this.__onlyRegion||A(this.painter,this.__specialConfig,t,i,e,n,r,o).stroke(),this},t.prototype.fullArc=function(t,i,e,n,r,o){return this.__region&&!this.__onlyView&&this.__region.fullArc(t,i,e,n,r,o),this.__isPainter&&this.__onlyRegion||(A(this.painter,this.__specialConfig,t,i,e,n,r,o),this.painter.fill(),this.painter.stroke()),this},t.prototype.fillCircle=function(t,i,e){return this.__region&&!this.__onlyView&&this.__region.fillCircle(t,i,e),this.__isPainter&&this.__onlyRegion||I(this.painter,t,i,e).fill(),this},t.prototype.strokeCircle=function(t,i,e){return this.__region&&!this.__onlyView&&this.__region.strokeCircle(t,i,e),this.__isPainter&&this.__onlyRegion||I(this.painter,t,i,e).stroke(),this},t.prototype.fullCircle=function(t,i,e){return this.__region&&!this.__onlyView&&this.__region.fullCircle(t,i,e),this.__isPainter&&this.__onlyRegion||(I(this.painter,t,i,e),this.painter.fill(),this.painter.stroke()),this},t.prototype.fillRect=function(t,i,e,n){return this.__region&&!this.__onlyView&&this.__region.fillRect(t,i,e,n),this.__isPainter&&this.__onlyRegion||k(this.painter,t,i,e,n).fill(),this},t.prototype.strokeRect=function(t,i,e,n){return this.__region&&!this.__onlyView&&this.__region.strokeRect(t,i,e,n),this.__isPainter&&this.__onlyRegion||k(this.painter,t,i,e,n).stroke(),this},t.prototype.fullRect=function(t,i,e,n){return this.__region&&!this.__onlyView&&this.__region.fullRect(t,i,e,n),this.__isPainter&&this.__onlyRegion||(k(this.painter,t,i,e,n),this.painter.fill(),this.painter.stroke()),this},t.prototype.draw=function(){return Promise.resolve()},t.prototype.drawImage=function(t,i,e,n,r,o){var s=this;return void 0===o&&(o=!1),new Promise((function(_){if(s.__region&&!s.__onlyView&&s.__region.fillRect(i,e,n,r),s.__isPainter&&s.__onlyRegion)_({});else if("string"!=typeof t||o)s.painter.drawImage(t,i,e,n,r),_({});else{var h=new Image;h.onload=function(){s.painter.drawImage(h,i,e,n,r),_({})},h.src=t}}))},t.prototype.install=function(t){var i=this,e=function(e){if(e in n)throw new Error("VISLite Canvas:Method already exists and cannot be overwritten.");n[e]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t[e].apply(i,n);return null!=o?o:i}},n=this;for(var r in t)e(r);return this},t}();function U(t,i,e,n){for(var r=[],o=0;o<n;o++)r[o]=t;return function(){for(var o=0;o<n;o++){if(r[o]+e<i){r[o]=+(r[o]+e).toFixed(7);break}o<n-1&&(r[o]=t)}return r}}var N=function(t,i){var e={value:function(){return t},setColor:function(n,r){return t.addColorStop(i?i(n):n,r),e}};return e},F=function(t){function i(i,e,n,r){void 0===n&&(n={}),void 0===r&&(r=1);var o=t.call(this,i,n,e?new V(e,{willReadFrequently:!0}):void 0,!0,r)||this;return o.name="Canvas",o.__regionList={},o.__regionAssemble=U(0,255,10,3),o.__scaleSize=r,o.setRegion(""),o}return u(i,t),i.prototype.config=function(t){for(var i in t)this.useConfig(i,t[i]);return this},i.prototype.reset=function(){return this.config(O()),this},i.prototype.onlyRegion=function(t){return this.__onlyRegion=t,this},i.prototype.onlyView=function(t){return this.__onlyView=t,this},i.prototype.setRegion=function(t){if(this.__region)if(t){if(null==this.__regionList[t]){var i=this.__regionAssemble();this.__regionList[t]="rgb("+i[0]+","+i[1]+","+i[2]+")"}this.__region.useConfig("fillStyle",this.__regionList[t])&&this.__region.useConfig("strokeStyle",this.__regionList[t])}else this.__region.useConfig("fillStyle","#000000")&&this.__region.useConfig("strokeStyle","#000000");return this},i.prototype.getRegion=function(t,i){var e=this;return new Promise((function(n){var r=e.__region?e.__region.painter.getImageData(t-.5,i-.5,1,1):{data:[0,0,0,0]},o=r.data,s=function(){if(e.__region)for(var t in e.__regionList)if("rgb("+o[0]+","+o[1]+","+o[2]+")"==e.__regionList[t]){n(t);break}n("")};o?s():r.then((function(t){o=t,s()}))}))},i.prototype.textWidth=function(t){this.painter.save(),M(this.painter,this.__specialConfig,0,0,0);var i=this.painter.measureText(t+"").width;return this.painter.restore(),i},i.prototype.getContext=function(t){return void 0===t&&(t=!1),t?this.__region?this.__region.painter:null:this.painter},i.prototype.getInfo=function(){return{width:this.painter.canvas.width/this.__scaleSize,height:this.painter.canvas.height/this.__scaleSize}},i.prototype.createLinearGradient=function(t,i,e,n){return r=this.painter,o=t,s=i,_=e,h=n,a=r.createLinearGradient(o,s,_,h),N(a);var r,o,s,_,h,a},i.prototype.createRadialGradient=function(t,i,e){return n=this.painter,r=t,o=i,s=e,_=n.createRadialGradient(r,o,0,r,o,s),N(_);var n,r,o,s,_},i.prototype.createConicGradient=function(t,i,e,n){return r=this.painter,o=t,s=i,_=e,h=n,a=r.createConicGradient(_,o,s),N(a,h?function(t){return h/(2*Math.PI)*t}:void 0);var r,o,s,_,h,a},i.prototype.getColor=function(t,i){t*=this.__scaleSize,i*=this.__scaleSize;var e=this.painter.getImageData(t-.5,i-.5,1,1).data;return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")"},i}(V),B=Object.prototype.toString;function z(t){if(null===t||"object"!=typeof t||"[object Object]"!=(null==(i=t)?void 0===i?"[object Undefined]":"[object Null]":B.call(i)))return!1;var i;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function D(t,i){for(var e in t)i[e]=t[e];return i}var G=function(t){function i(i,e,n,r){void 0===e&&(e={}),void 0===n&&(n=0),void 0===r&&(r=0);var o=this;if(!i)throw new Error("VISLite Canvas:The mount point requires an HTMLElement type but encountered null.");e=D(e,{region:!0,willReadFrequently:!1}),n=n||i.clientWidth,r=r||i.clientHeight;var s,_=null,h=i;h._vislite_canvas_?(s=h._vislite_canvas_[0],_=h._vislite_canvas_[1]):(s=document.createElement("canvas"),i.appendChild(s),e.region&&(_=document.createElement("canvas")),h._vislite_canvas_=[s,_],i.setAttribute("vislite","Canvas"));for(var a=[_,s],u=0;u<a.length;u++){var l=a[u];l&&(l.style.width=n+"px",l.setAttribute("width",u*n+n+""),l.style.height=r+"px",l.setAttribute("height",u*r+r+""))}return(o=t.call(this,s,_,{willReadFrequently:e.willReadFrequently},2)||this).__canvas=s,o.__el=i,o.painter.scale(2,2),o}return u(i,t),i.prototype.toDataURL=function(){var t=this;return new Promise((function(i){i(t.__canvas.toDataURL())}))},i.prototype.bind=function(t,i){var e=this;return this.__el.addEventListener(t,(function(t){e.getRegion(t.offsetX,t.offsetY).then((function(e){i(e,t.offsetX,t.offsetY)}))})),this},i}(F),H=function(t,i,e){var n=t.createShader(i);if(null==n)throw new Error("Unable to create shader!");if(t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error("Failed to compile shader:"+t.getShaderInfoLog(n));return n},X=function(){function t(t){this.__painter=t}return t.prototype.use=function(){return this.__painter.useProgram(this.program),this},t.prototype.compile=function(t,i){return this.program=function(t,i,e){var n=H(t,t.VERTEX_SHADER,i),r=H(t,t.FRAGMENT_SHADER,e),o=t.createProgram();if(t.attachShader(o,n),t.attachShader(o,r),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw new Error("Failed to link program: "+t.getProgramInfoLog(o));return o}(this.__painter,t,i),this},t}(),j=function(){function t(t,i,e){var n,r,o,s;void 0===e&&(e=0),this.__painter=t,this.__type={"2d":t.TEXTURE_2D,cube:t.TEXTURE_CUBE_MAP}[i],this.__texture=(n=t,r=this.__type,o=e,s=n.createTexture(),n.activeTexture(n["TEXTURE"+o]),n.bindTexture(r,s),s),t.texParameteri(this.__type,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(this.__type,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(this.__type,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(this.__type,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}return t.prototype.useImage=function(t){return i=this.__painter,e=this.__type,n=this.__painter.RGBA,r=this.__painter.UNSIGNED_BYTE,o=t,i.texImage2D(e,0,n,n,r,o),this;var i,e,n,r,o},t.prototype.useCube=function(t,i,e){return function(t,i,e,n,r,o,s,_,h){for(var a,u=[t.TEXTURE_CUBE_MAP_POSITIVE_X,t.TEXTURE_CUBE_MAP_NEGATIVE_X,t.TEXTURE_CUBE_MAP_POSITIVE_Y,t.TEXTURE_CUBE_MAP_NEGATIVE_Y,t.TEXTURE_CUBE_MAP_POSITIVE_Z,t.TEXTURE_CUBE_MAP_NEGATIVE_Z],l=0;l<u.length;l++)o[l]&&(a=u[l],t.texImage2D(a,0,n,s,_,0,n,r,null),t.bindTexture(i,h),t.texImage2D(a,0,n,n,r,o[l]));t.generateMipmap(i)}(this.__painter,this.__type,0,this.__painter.RGBA,this.__painter.UNSIGNED_BYTE,t,i,e,this.__texture),this},t}(),q=function(){function t(t,i){void 0===i&&(i=!1),this.__painter=t,this.__isElement=i,this.__buffer=t.createBuffer(),this.__type=i?t.ELEMENT_ARRAY_BUFFER:t.ARRAY_BUFFER}return t.prototype.use=function(){return this.__painter.bindBuffer(this.__type,this.__buffer),this},t.prototype.write=function(t){return i=this.__painter,e=t,n=this.__isElement,r=this.__painter.STATIC_DRAW,o=n?i.ELEMENT_ARRAY_BUFFER:i.ARRAY_BUFFER,i.bufferData(o,e,r),this.__fsize=t.BYTES_PER_ELEMENT,this;var i,e,n,r,o},t.prototype.divide=function(t,i,e,n){return void 0===n&&(n=0),r=this.__painter,o=t,s=i,_=this.__painter.FLOAT,h=e*this.__fsize,a=n*this.__fsize,r.vertexAttribPointer(o,s,_,!1,h,a),r.enableVertexAttribArray(o),this;var r,o,s,_,h,a},t}(),Y=function(t,i,e,n){var r=Math.cos(t),o=Math.sin(t);return[i*r-e*o,i*o+e*r,n]},W=function(){function t(t,i){void 0===t&&(t=7),void 0===i&&(i=[107,36]),this.name="Eoap",this.__scale=t,this.__center=i}return t.prototype.use=function(t,i){var e,n,r,o,s,_,h,a,u,l,p=(e=(360-i)/180*Math.PI,n=100*this.__scale,r=Math.cos(e),[0*(o=Math.sin(e))+n*r,0,0*r-n*o]);return p=Y(t/180*Math.PI,p[0],p[1],p[2]),p=Y((90-this.__center[0])/180*Math.PI,p[0],p[1],p[2]),s=(90-this.__center[1])/180*Math.PI,_=p[0],h=p[1],a=p[2],u=Math.cos(s),l=Math.sin(s),[-(p=[_,h*u-a*l,h*l+a*u])[0],p[1],p[2]]},t}(),J=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.name="TreeLayout",i.__option={offsetX:0,offsetY:0,duration:500,type:"plain",direction:"LR",x:100,y:100,width:100,height:100,radius:100},i.__noOpens={},i}return u(i,t),i.prototype.setOption=function(t){return D(t,this.__option),this},i.prototype.use=function(i,e){void 0===e&&(e={});var n=t.prototype.use.call(this,i,e);if(0!=this.__option.offsetX||0!=this.__option.offsetY)for(var r in n.node)if(!n.node[r].show){var s=0,_=r;do{_=n.node[_].pid,s++}while(!n.node[_].show);n.node[r].left+=this.__option.offsetX*s,n.node[r].top+=this.__option.offsetY*s}if("rect"==this.__option.type){if("LR"==this.__option.direction||"RL"==this.__option.direction){var h=this.__option.height/n.size,a=this.__option.width/(n.deep-1),u=this.__option.y-.5*this.__option.height,l="LR"==this.__option.direction?1:-1;for(var r in n.node)1==n.deep?(n.node[r].left=this.__option.x+.5*this.__option.width*l,n.node[r].top=this.__option.y):(n.node[r].left=this.__option.x+(n.node[r].left-.5)*a*l,n.node[r].top=n.node[r].top*h+u)}else if("TB"==this.__option.direction||"BT"==this.__option.direction)for(var r in h=this.__option.width/n.size,a=this.__option.height/(n.deep-1),u=this.__option.x-.5*this.__option.width,l="TB"==this.__option.direction?1:-1,n.node)if(n.node[r].deg="TB"==this.__option.direction?.5*Math.PI:-.5*Math.PI,1==n.deep)n.node[r].left=this.__option.x,n.node[r].top=this.__option.y+.5*this.__option.height*l;else{var p=n.node[r].left;n.node[r].left=n.node[r].top*h+u,n.node[r].top=this.__option.y+(p-.5)*a*l}}else if("circle"==this.__option.type){var c=this.__option.x,f=this.__option.y,d=2*Math.PI/n.size,g=this.__option.radius/(n.deep-1);for(var r in n.node)if(.5==n.node[r].left)n.node[r].left=c,n.node[r].top=f;else{var v=o(c,f,d*n.node[r].top,c+(n.node[r].left-.5)*g,f);n.node[r].deg=d*n.node[r].top,n.node[r].left=v[0],n.node[r].top=v[1]}}return n},i.prototype.bind=function(t,i,e){return void 0===e&&(e={}),this.__rback=i,this.__oralTree=t,this.__noOpens=e,this.__preTree=this.use(this.__oralTree,this.__noOpens),this.__rback(this.__preTree),this},i.prototype.unbind=function(){return this.__rback=function(){return null},this.__oralTree=null,this.__preTree=null,this.__noOpens={},this},i.prototype.doUpdate=function(){var t=this,i=this.use(this.__oralTree,this.__noOpens),e=JSON.parse(JSON.stringify(i));return h((function(n){if(t.__preTree)for(var r in e.node)(i.node[r].show||t.__preTree.node[r].show)&&(e.node[r].show=!0,e.node[r].left=t.__preTree.node[r].left+(i.node[r].left-t.__preTree.node[r].left)*n,e.node[r].top=t.__preTree.node[r].top+(i.node[r].top-t.__preTree.node[r].top)*n);t.__rback(e)}),this.__option.duration,(function(){t.__preTree=i,t.__rback(t.__preTree)})),this},i.prototype.closeNode=function(t){return this.__preTree?(this.__noOpens[t]=!0,this.doUpdate(),this):this},i.prototype.openNode=function(t){return this.__preTree?(this.__noOpens[t]=!1,this.doUpdate(),this):this},i.prototype.toggleNode=function(t){return this.__preTree?(this.__noOpens[t]=!this.__noOpens[t],this.doUpdate(),this):this},i}(function(){function t(t){void 0===t&&(t={}),this.name="Tree",this.__config=D(t,{root:function(t){return t},children:function(t){return t.children},id:function(t){return t.name}})}return t.prototype.use=function(t,i){return void 0===i&&(i={}),function(t,i,e){var n=function(t,i){var e,n,r={},o=i.root(t);e=n=i.id(o),r[e]={data:o,pid:null,id:e,isOpen:!0,show:!0,deg:0,children:[]};var s=1;return function n(o,_){var h=i.children(o,t);s+=h?h.length:0;for(var a=0;h&&a<h.length;a++)e=i.id(h[a]),r[_].children.push(e),r[e]={data:h[a],pid:_,id:e,isOpen:!0,show:!0,deg:0,children:[]},n(h[a],e)}(o,e),{rid:n,value:r,num:s}}(t,i),r=n.value,o=n.rid;if(1==n.num)return r[o].left=.5,r[o].top=.5,r[o].show=!0,{deep:1,node:r,root:o,size:1};var s=[],_=0,h=0;for(var a in e[o]?(r[o].left=.5,r[o].top=.5,r[o].show=!0,_=1):function t(i,n){n>h&&(h=n);var o=0;if(!e[i.id])for(o=0;o<i.children.length;o++)t(r[i.children[o]],n+1);if(r[i.id].left=n+.5,0==o?(null==s[n]&&(s[n]=-.5),null==s[n-1]&&(s[n-1]=-.5),r[i.id].top=s[n]+1,s[n]+1+.5*(r[i.pid].children.length-1)-1<s[n-1]&&(r[i.id].top=s[n-1]+1-.5*(r[i.pid].children.length-1))):r[i.id].top=.5*(r[i.children[0]].top+r[i.children[o-1]].top),r[i.id].top<=s[n])var a=s[n]+1-r[i.id].top((function t(i,e){r[i].top+=a,s[e]<r[i].top&&(s[e]=r[i].top);for(var n=0;n<r[i].children.length;n++)t(r[i].children[n],e+1)}))(i.id,n);s[n]=r[i.id].top,r[i.id].top+.5>_&&(_=r[i.id].top+.5)}(r[o],0),e)e[a]&&(r[a].isOpen=!1,function t(i,e,n){for(var o=0;o<r[i].children.length;o++)r[r[i].children[o]].left=e,r[r[i].children[o]].top=n,r[r[i].children[o]].show=!1,t(r[i].children[o],e,n)}(a,r[a].left,r[a].top));return{node:r,root:o,size:_,deep:h+1}}(t,this.__config,i)},t}()),Q={Cardinal:i,Hermite:t,Matrix4:r,rotate:o,move:function(t,i,e,n,r){var o=Math.sqrt(t*t+i*i);return[t*e/o+n,i*e/o+r]},scale:function(t,i,e,n,r){return[e*(n-t)+t,e*(r-i)+i]},getLoopColors:function(t,i,e){void 0===i&&(i=1);var n=e?e(i):["rgba(84,112,198,"+i+")","rgba(145,204,117,"+i+")","rgba(250,200,88,"+i+")","rgba(238,102,102,"+i+")","rgba(115,192,222,"+i+")","rgba(59,162,114,"+i+")","rgba(252,132,82,"+i+")","rgba(154,96,180,"+i+")","rgba(234,124,204,"+i+")"],r=[];if(t<=n.length)return n;if(t%n.length==0)for(var o=0;o<t/n.length;o++)r=r.concat(n);else{for(var s=1;s<t/n.length;s++)r=r.concat(n);if(t%n.length==1)r=r.concat(n[4]);else for(var _=0;_<t%n.length;_++)r=r.concat(n[_])}return r},animation:h,ruler:function(t,i,e,n){if(t<i){var r=i;i=t,t=r}else if(t==i)return[t];var o=function(t){for(var i=t<100&&t>-100?10:.1,e=-1,n=t;10==i?n>=-100&&n<=100:n<=-100||n>=100;)e+=1,n*=i;if(10==i)return Math.pow(10,e);for(var r="0.",o=1;o<e;o++)r+="0";return+(r+"1")}(t-i),s=Math.ceil((t-i)*o/e),_=function(e){var n=({3:2,4:5,6:5,7:5,8:10,9:10,11:10,12:10,13:15,14:15,16:15,17:15,18:20,19:20,21:20,22:20,23:25,24:25,26:25,27:25}[s+e]||s+e)/o,r=Math.floor(i/n)*n,_=[];_.push(r);for(var h=1;_[_.length-1]<t;h++)_.push(r+n*h);return _},h=_(0),a=function(){for(var t=[],e=h[h.length-1]-(null==n?void 0:n.max),r=0;r<h.length;r++)r+1<h.length&&h[r+1]-e<i||t.push(h[r]-e);return t},u=function(){for(var i=[],e=h[0]-(null==n?void 0:n.min),r=0;r<h.length&&(i[r]=h[r]-e,!(t<=i[r]));r++);return i};if(n){if("max"in n&&"min"in n&&n.max>=t&&n.min<=i){var l=function(){if(h[0]>=n.min&&h[h.length-1]<=n.max)return!0;var t=a();if(t[0]>=n.min&&t[t.length-1]<=n.max)return h=t,!0;var i=u();return i[0]>=n.min&&i[t.length-1]<=n.max?(h=i,!0):void 0};if(l())return h;for(var p=1;p<100;p++){if(h=_(p),l())return h;if(h=_(-p),l())return h}}"max"in n&&n.max>=t?n.max<h[h.length-1]&&(h=a()):"min"in n&&n.min<=i&&n.min>h[0]&&(h=u())}for(var c=0;c<h.length;c++){var f=h[c]+"";/\./.test(f)&&(/9{7,}$/.test(f)?(f=f.replace(/9{7,}$/,""),h[c]=+(f.substring(0,f.length-1)+(+f[f.length-1]+1))):/0{7,}\d$/.test(f)&&(h[c]=+f.replace(/0{7,}\d$/,"")))}return h},SVG:S,Canvas:G,RawCanvas:F,getWebGLContext:function(t,i,e){if(void 0===i&&(i=1),!t)throw new Error("VISLite getWebGLContext:The mount point requires an HTMLElement type but encountered null.");var n,r=t.clientWidth,o=t.clientHeight,s=t;return s._vislite_canvas_?n=s._vislite_canvas_:(n=document.createElement("canvas"),t.appendChild(n),s._vislite_canvas_=n,t.setAttribute("vislite","WebGL")),n.style.width=r+"px",n.setAttribute("width",r+""),n.style.height=o+"px",n.setAttribute("height",o+""),function(t,i,e,n){void 0===e&&(e={}),void 0===n&&(n="scaleToFill");for(var r=["experimental-webgl","webkit-3d","moz-webgl"],o=t.getContext("webgl",e),s=0;s<r.length;s++){try{o=t.getContext(r[s],e)}catch(c){}if(o)break}if(!o)throw new Error("Non canvas or browser does not support webgl.");var _=o.canvas.width,h=o.canvas.height,a=i,u=i;"aspectFit"==n?_>h?a*=h/_:h>_&&(u*=_/h):"aspectFill"==n&&(_>h?u*=_/h:h>_&&(a*=h/_));var l=_*a,p=h*u;return o.viewport(.5*(_-l),.5*(h-p),l,p),o.depthFunc(o.LEQUAL),o.enable(o.DEPTH_TEST),o}(n,i,{},e)},Shader:X,Texture:j,Buffer:q,Eoap:W,Mercator:function(t,i){void 0===t&&(t=7),void 0===i&&(i=[107,36]),this.name="Mercator";var e=100*t*Math.PI/180,n=e*i[0],r=-1*e*i[1];this.use=function(t,i){return[.8*(e*t-n),-1*e*i-r,0]}},throttle:function(t,i){var e={time:200,keep:!1,opportunity:"end"};if(i)for(var n in i)e[n]=i[n];var r,o=!1,s=!1,_=!1;return function(){const i=this;if(r=arguments,o)s=!0,_=!0;else{"end"!=e.opportunity&&t.apply(i,r),o=!0;var n=setInterval((()=>{s?e.keep||t.apply(i,r):("begin"!=e.opportunity&&(_||"end"==e.opportunity)&&t.apply(i,r),o=!1,_=!1,clearInterval(n)),s=!1}),e.time)}}},assemble:U,TreeLayout:J,initOption:D,mergeOption:function(t,i){!function t(i,e){for(var n in e){var r=e[n];z(r)?(i[n]||(i[n]={}),t(i[n],e[n])):i[n]=r}}(t,i)}};return Q}();
/*!
* VISLite JavaScript Library v1.2.1
* git+https://github.com/oi-contrib/VISLite.git
*/const d=t(f),g=p(i({name:"UQCanvas",props:{width:{type:Number,default:300},height:{type:Number,default:200}},emits:["start","move","end"],setup(t,{expose:i,emit:p}){let c=e((1e4*Math.random()).toFixed(0));const d=a();let g=(t,i)=>{uni.createSelectorQuery().selectViewport().scrollOffset((()=>{})).exec((e=>{uni.createSelectorQuery().in(d).select("#uni-canvas-"+c.value).boundingClientRect((n=>{p(i,{x:t.changedTouches[0].pageX-n.left-e[0].scrollLeft,y:t.changedTouches[0].pageY-n.top-e[0].scrollTop})})).exec()}))},v=t=>{g(t,"start")},y=t=>{g(t,"move")},m=t=>{g(t,"end")};return i({fetch(){let t="";t="painter-"+c.value;let i=uni.createCanvasContext(t,d),e=new f.RawCanvas({getContext:()=>i},null,1);e.draw=function(t,n){return i.draw(t,n),e},e.toDataURL=function(){return new Promise((i=>{uni.canvasToTempFilePath({canvasId:t,success:function(t){i(t.tempFilePath)},fail:function(t){console.error(t)}},d)}))};let n=e.drawImage;return e.drawImage=function(t,i,r,o,s){return new Promise((_=>{/^http/.test(t)?uni.downloadFile({url:t,success:function(t){n.call(e,t.tempFilePath,i,r,o,s,!0).then((()=>{_({})}))}}):n.call(e,t,i,r,o,s,!0).then((()=>{_({})}))}))},new Promise((t=>{t(e)}))}}),(i,e)=>{const a=u,p=l;return n(),r(p,{class:"canvas-container",id:"uni-canvas-"+_(c),onMousedown:_(v),onMousemove:_(y),onMouseup:_(m),onTouchstart:_(v),onTouchmove:_(y),onTouchend:_(m)},{default:o((()=>[s(a,{"canvas-id":"painter-"+_(c),style:h({width:t.width+"px",height:t.height+"px",display:"block!important"})},null,8,["canvas-id","style"])])),_:1},8,["id","onMousedown","onMousemove","onMouseup","onTouchstart","onTouchmove","onTouchend"])}}}),[["__scopeId","data-v-3057f4d9"]]);export{g as U,d as V,f as i};
