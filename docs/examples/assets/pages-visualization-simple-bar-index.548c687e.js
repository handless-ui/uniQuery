import{d as e,r as t,e as a,o as l,c as i,w as s,u as n,C as o,g as r,i as d,a as x,m as y,p as c}from"./index-df4b44f3.js";import{V as g,U as h}from"./index.f0d55a05.js";import{C as f}from"./index.0cbe80d5.js";import{_ as p}from"./plugin-vueexport-helper.1b428a4d.js";const u=p(e({name:"UQSimpleBar",props:{label:{type:Array},data:{type:Array},labelType:{type:String,default:"xAxis"},color:{type:String,default:"rgb(84,112,198)"}},setup(e){const x=e;let y="ui-simple-bar-"+(1e4*Math.random()).toFixed(0),c=r(),p=t(0),u=t(0),m=t();return f.install(g),a((()=>{uni.createSelectorQuery().in(c).select("#"+y).boundingClientRect((e=>{p.value=e.width,u.value=e.height,setTimeout((()=>{m.value.fetch().then((t=>{let a,l;"xAxis"==x.labelType?(a={type:"category",data:x.label},l={type:"value"}):(a={type:"value"},l={type:"category",data:x.label}),new f({grid:{width:e.width,height:e.height,top:20,right:20,bottom:30},xAxis:a,yAxis:l,series:[{type:"bar",data:x.data}],update(e){!function(e,t,a){e.config({fillStyle:"#000000",strokeStyle:"#aeaeae",fontSize:12});for(let l=0;l<t.texts.length;l++){let a=t.texts[l];e.config({textAlign:"center",textBaseline:"top"}).fillText(a.content,a.x,a.y+10)}if(-1==a){e.beginPath().moveTo(t.begin.x,t.begin.y).lineTo(t.end.x,t.end.y).stroke();for(let a=0;a<t.masks.length;a++){let l=t.masks[a];e.beginPath().moveTo(l.x,l.y).lineTo(l.x,l.y+5).stroke()}}else for(let l=1;l<t.masks.length;l++){let i=t.masks[l];e.beginPath().moveTo(i.x,i.y).lineTo(i.x,a).stroke()}}(t,e.cartesian2d.xAxis,"x"==e.cartesian2d.label?-1:e.cartesian2d.yAxis.end.y),function(e,t,a){e.config({fillStyle:"#000000",strokeStyle:"#aeaeae",fontSize:12});for(let l=0;l<t.texts.length;l++){let a=t.texts[l];e.config({textAlign:"right",textBaseline:"middle"}).fillText(a.content,a.x-10,a.y)}if(-1==a){e.beginPath().moveTo(t.begin.x,t.begin.y).lineTo(t.end.x,t.end.y).stroke();for(let a=0;a<t.masks.length;a++){let l=t.masks[a];e.beginPath().moveTo(l.x,l.y).lineTo(l.x-5,l.y).stroke()}}else for(let l=1;l<t.masks.length;l++){let i=t.masks[l];e.beginPath().moveTo(i.x,i.y).lineTo(a,i.y).stroke()}}(t,e.cartesian2d.yAxis,"y"==e.cartesian2d.label?-1:e.cartesian2d.xAxis.end.x),function(e,t,a){e.config({fillStyle:a}),t.rects.forEach((t=>{e.fillRect(t.x,t.y,t.width,t.height)}))}(t,e.series[0],x.color),t.draw()}})}))}),200)})).exec()})),(e,t)=>{const a=d;return l(),i(a,{class:"simple-bar-container",id:n(y)},{default:s((()=>[0!=n(p)&&0!=n(u)?(l(),i(h,{key:0,ref_key:"canvasRef",ref:m,width:n(p),height:n(u)},null,8,["width","height"])):o("",!0)])),_:1},8,["id"])}}}),[["__scopeId","data-v-711972f8"]]),m=p(e({__name:"index",setup(e){let t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],a=[120,200,150,80,70,110,130];return(e,o)=>{const r=y(c("ui-simple-bar"),u),g=d;return l(),i(g,{class:"example-container"},{default:s((()=>[x(g,{style:{height:"500rpx"}},{default:s((()=>[x(r,{label:n(t),data:n(a),"label-type":"xAxis"},null,8,["label","data"])])),_:1}),x(g,{style:{height:"700rpx"}},{default:s((()=>[x(r,{color:"red",label:n(t),data:n(a),"label-type":"yAxis"},null,8,["label","data"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-42930b56"]]);export{m as default};
