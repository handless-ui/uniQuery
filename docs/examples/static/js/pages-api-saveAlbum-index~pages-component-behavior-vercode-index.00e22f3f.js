(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-api-saveAlbum-index~pages-component-behavior-vercode-index"],{"30dd":function(t,i,e){"use strict";e("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,i){return function(e,n,r,o,s){return new Promise((function(a){/^http/.test(e)?uni.downloadFile({url:e,success:function(e){i.call(t,e.tempFilePath,n,r,o,s,!0).then((function(){a({})}))}}):i.call(t,e,n,r,o,s,!0).then((function(){a({})}))}))}},e("d3b7"),e("ac1f"),e("00b4")},"46b4":function(t,i,e){"use strict";e.r(i);var n=e("c215"),r=e("cc6e");for(var o in r)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return r[t]}))}(o);var s=e("f0c5"),a=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);i["default"]=a.exports},"498c":function(t,i,e){var n,r,o,s=e("62f5").default;e("d9e2"),e("d401"),e("14d9"),e("131a"),e("c975"),e("cb29"),e("ac1f"),e("00b4"),e("d3b7"),e("e9c4"),e("99af"),e("5319"),e("6c57"),o=function(){"use strict";var t=function(){function t(t){void 0===t&&(t=.5),this.name="Hermite",this.__u=t}return t.prototype.setP=function(t,i,e,n,r,o){if(!(t<e))throw new Error("The point x-position should be increamented!");this.__a=t,this.__b=e;var s=this.__u*r,a=this.__u*o;return i/=e-t,n/=e-t,this.__MR=[2*i-2*n+s+a,3*n-3*i-2*s-a,s,i],this},t.prototype.use=function(t){if(this.__MR){var i=(t-this.__a)/(this.__b-this.__a),e=i*i;return(i*e*this.__MR[0]+e*this.__MR[1]+i*this.__MR[2]+this.__MR[3])*(this.__b-this.__a)}throw new Error("You shoud first set the position!")},t}(),i=function(){function i(t){void 0===t&&(t=0),this.name="Cardinal",this.__t=t}return i.prototype.setP=function(i){this.__HS={x:[],h:[]};var e,n,r=(i[1][1]-i[0][1])/(i[1][0]-i[0][0]);for(this.__HS.x[0]=i[0][0],e=1;e<i.length;e++){if(i[e][0]<=i[e-1][0])throw new Error("The point position should be increamented!");this.__HS.x[e]=i[e][0],n=e<i.length-1?i[e+1][1]>i[e][1]&&i[e-1][1]>i[e][1]||i[e+1][1]<i[e][1]&&i[e-1][1]<i[e][1]||i[e+1][1]==i[e][1]||i[e-1][1]==i[e][1]?0:(i[e+1][1]-i[e-1][1])/(i[e+1][0]-i[e-1][0]):(i[e][1]-i[e-1][1])/(i[e][0]-i[e-1][0]),this.__HS.h[e-1]=new t(.5*(1-this.__t)).setP(i[e-1][0],i[e-1][1],i[e][0],i[e][1],r,n),r=n}return this},i.prototype.use=function(t){if(this.__HS){for(this.__i=-1;this.__i+1<this.__HS.x.length&&(t>this.__HS.x[this.__i+1]||-1==this.__i&&t>=this.__HS.x[this.__i+1]);)this.__i+=1;return this.__i<0?this.__HS.h[0].use(this.__HS.x[0]):this.__i>=this.__HS.h.length?this.__HS.h[this.__HS.h.length-1].use(this.__HS.x[this.__HS.x.length-1]):this.__HS.h[this.__i].use(t)}throw new Error("You shoud first set the position!")},i}(),e=function(t,i){for(var e=[],n=0;n<4;n++)for(var r=0;r<i.length/4;r++)e[4*r+n]=t[n]*i[4*r]+t[n+4]*i[4*r+1]+t[n+8]*i[4*r+2]+t[n+12]*i[4*r+3];return e},n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r=function(){function t(t){void 0===t&&(t=n),this.name="Matrix4",this.__matrix4=t}return t.prototype.setValue=function(t){return void 0===t&&(t=n),this.__matrix4=t,this},t.prototype.move=function(t,i,n,r){return void 0===r&&(r=0),this.__matrix4=e(function(t,i,e,n){void 0===n&&(n=0);var r=Math.sqrt(i*i+e*e+n*n);return[1,0,0,0,0,1,0,0,0,0,1,0,i*t/r,e*t/r,n*t/r,1]}(t,i,n,r),this.__matrix4),this},t.prototype.rotate=function(t,i,n,r,o,s,a){var h=function(t,i,e,n,r,o){if("number"==typeof t&&"number"==typeof i){if("number"!=typeof e?(e=0,n=t,r=i,o=1):"number"==typeof n&&"number"==typeof r&&"number"==typeof o||(n=t,r=i,o=e,t=0,i=0,e=0),t==n&&i==r&&e==o)throw new Error("It's not a legitimate ray!");var s=Math.sqrt((n-t)*(n-t)+(r-i)*(r-i)),a=0!=s?(r-i)/s:1,h=0!=s?(n-t)/s:0,_=(n-t)*h+(r-i)*a,u=o-e,l=Math.sqrt(_*_+u*u),c=0!=l?u/l:1,p=0!=l?_/l:0;return[[a,c*h,h*p,0,-h,a*c,a*p,0,0,-p,c,0,i*h-t*a,e*p-t*h*c-i*a*c,-t*h*p-i*a*p-e*c,1],[a,-h,0,0,c*h,c*a,-p,0,h*p,a*p,c,0,t,i,e,1]]}throw new Error("a1 and b1 is required!")}(i,n,r,o,s,a);return this.__matrix4=e(e(e(h[1],function(t){var i=Math.sin(t),e=Math.cos(t);return[e,i,0,0,-i,e,0,0,0,0,1,0,0,0,0,1]}(t)),h[0]),this.__matrix4),this},t.prototype.scale=function(t,i,n,r,o,s){return void 0===r&&(r=0),void 0===o&&(o=0),void 0===s&&(s=0),this.__matrix4=e(function(t,i,e,n,r,o){return void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=0),[t,0,0,0,0,i,0,0,0,0,e,0,n-n*t,r-r*i,o-o*e,1]}(t,i,n,r,o,s),this.__matrix4),this},t.prototype.multiply=function(t,i){return void 0===i&&(i=!1),this.__matrix4=i?e(this.__matrix4,t):e(t,this.__matrix4),this},t.prototype.use=function(t,i,n,r){return void 0===n&&(n=0),void 0===r&&(r=1),e(this.__matrix4,[t,i,n,r])},t.prototype.value=function(){return this.__matrix4},t}();function o(t,i,e,n,r){var o=Math.cos(e),s=Math.sin(e);return[(n-t)*o-(r-i)*s+t,(n-t)*s+(r-i)*o+i]}var a,h=[];function _(t,i,e){void 0===i&&(i=400),void 0===e&&(e=function(){});var n={timer:function(t,i,e){if(!t)throw new Error("Tick is required!");var r=(new Date).valueOf()+"_"+(1e3*Math.random()).toFixed(0);return h.push({id:r,createTime:new Date,tick:t,duration:i,callback:e}),n.start(),r},start:function(){a||(a=setInterval(n.tick,13))},tick:function(){var t,i,e,r,o,s,a,_=h;for((h=[]).length=0,i=0;i<_.length;i++)t=(o=_[i]).createTime,e=o.tick,s=o.duration,r=o.callback,e(a=(a=(+(new Date).valueOf()-t.valueOf())/s)>1?1:a),a<1&&o.id?h.push(o):r(a);h.length<=0&&n.stop()},stop:function(){a&&(clearInterval(a),a=null)}},r=n.timer((function(i){t(i)}),i,e);return function(){var t;for(t in h)if(h[t].id==r)return void(h[t].id=void 0)}}var u=function(t,i){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])},u(t,i)};function l(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=t}u(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}"function"==typeof SuppressedError&&SuppressedError;var c=["href","title","show","type","role","actuate"];function p(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}var f=function(t,i,e){c.indexOf(i)>-1?t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:"+i,e+""):t.setAttribute(i,e+"")},d=f;function g(t,i){f(t,"stroke",i.strokeStyle),f(t,"fill",i.fillStyle),f(t,"stroke-dasharray",i.lineDash.join(","))}function v(t,i){f(t,"fill",i.fillStyle)}function y(t,i){f(t,"stroke",i.strokeStyle),f(t,"fill","none"),f(t,"stroke-dasharray",i.lineDash.join(","))}var m=function(t,i,e,n,r){var o=Math.cos(e),s=Math.sin(e);return[+((n-t)*o-(r-i)*s+t).toFixed(7),+((n-t)*s+(r-i)*o+i).toFixed(7)]};function E(t,i,e,n,r,o,s){i<0&&(t+=i,i*=-1);var a,h=[];a=m(0,0,t,r,0),h[0]=a[0],h[1]=a[1],a=m(0,0,i,a[0],a[1]),h[2]=a[0],h[3]=a[1],a=m(0,0,t,o,0),h[4]=a[0],h[5]=a[1],a=m(0,0,i,a[0],a[1]),h[6]=a[0],h[7]=a[1],s(t,t+i,h[0]+e,h[1]+n,h[4]+e,h[5]+n,h[2]+e,h[3]+n,h[6]+e,h[7]+n,.5*(o-r))}var w=function(t){var i=t.getElementsByTagName("defs");if(i.length<=0){var e=p("defs");return t.appendChild(e),e}return i[0]},x=function(t,i,e,n,r){if("text"!==t.nodeName.toLowerCase())throw new Error("Need a <text> !");d(t,"dy",{top:.5*i.fontSize,middle:0,bottom:.5*-i.fontSize}[i.textBaseline]),function(t,i){for(var e in i)t.style[e]=i[e]}(t,{"text-anchor":{left:"start",right:"end",center:"middle"}[i.textAlign],"dominant-baseline":"central","font-size":i.fontSize+"px","font-family":i.fontFamily}),d(t,"x",e),d(t,"y",n),"number"==typeof r&&d(t,"transform","rotate("+(r%=360)+","+e+","+n+")")},T=function(t,i,e,n){if("circle"!==t.nodeName.toLowerCase())throw new Error("Need a <circle> !");d(t,"cx",i),d(t,"cy",e),d(t,"r",n)},b=function(t,i){if("path"!==t.nodeName.toLowerCase())throw new Error("Need a <path> !");d(t,"d",i)},P=function(t,i,e,n,r){if("rect"!==t.nodeName.toLowerCase())throw new Error("Need a <rect> !");r<0&&(e-=r*=-1),n<0&&(i-=n*=-1),d(t,"x",i),d(t,"y",e),d(t,"width",n),d(t,"height",r)},C=function(t,i,e,n,r,o,s,a){if("path"!==t.nodeName.toLowerCase())throw new Error("Need a <path> !");if(s=s/180*Math.PI,a=a/180*Math.PI,s%=2*Math.PI,r>o){var h=r;r=o,o=h}a>=1.999999*Math.PI||a<=1.999999*-Math.PI?a=1.999999*Math.PI:a%=2*Math.PI,E(s,a,e,n,r,o,(function(e,n,s,a,h,_,u,l,c,p,f){var g=n-e>Math.PI?1:0,v="M"+s+" "+a;f<0&&(f=-f),v+="A"+r+" "+r+" 0 "+g+" 1 "+u+" "+l,"round"==i.arcEndCap?v+="A"+f+" "+f+"  0 1 0 "+c+" "+p:"-round"==i.arcEndCap?v+="A"+f+" "+f+"  0 1 1 "+c+" "+p:v+="L"+c+" "+p,v+="A"+o+" "+o+" 0 "+g+" 0 "+h+" "+_,"round"==i.arcStartCap?v+="A"+f+" "+f+"  0 1 0 "+s+" "+a:"-round"==i.arcStartCap?v+="A"+f+" "+f+"  0 1 1 "+s+" "+a:v+="L"+s+" "+a,"butt"==i.arcStartCap&&(v+="Z"),d(t,"d",v)}))},R=function(t,i){var e={value:function(){return"url(#"+i+")"},setColor:function(i,n){var r=p("stop");return t.appendChild(r),d(r,"offset",100*i+"%"),d(r,"style","stop-color:"+n+";"),e}};return e},S=function(){function t(t){this.name="SVG",this.__config={fillStyle:"#000",strokeStyle:"#000",lineWidth:1,textAlign:"left",textBaseline:"middle",fontSize:16,fontFamily:"sans-serif",arcStartCap:"butt",arcEndCap:"butt",lineDash:[]},this.__path="",this.__currentPosition=[],this.__svg=t}return t.prototype.config=function(t){if("object"!=s(t))return this.__config[t];for(var i in t)this.__config[i]=t[i];return this},t.prototype.useEl=function(t){return this.__useEl=t,this},t.prototype.getEl=function(){return this.__useEl},t.prototype.appendEl=function(t,i){return i=i||this.__svg,"string"==typeof t&&(t=p(t)),i.appendChild(t),this.__useEl=t,this},t.prototype.appendBoard=function(t,i){var e=t;if("string"==typeof t&&(e={text:"text",path:"path",arc:"path",circle:"circle",rect:"rect"}[t]||""),""==e)throw new Error("Unsupported drawing method:"+t);return this.appendEl(e,i)},t.prototype.remove=function(){if(!this.__useEl)throw new Error("Currently, no node can be deleted.");return this.__useEl.parentNode.removeChild(this.__useEl),this},t.prototype.attr=function(t){if(!this.__useEl)throw new Error("Currently, no node can be modified or viewed.");if("object"!=s(t))return function(t,i){return c.indexOf(i)>-1&&(i="xlink:"+i),t.getAttribute(i)}(this.__useEl,t);for(var i in t)d(this.__useEl,i,t[i]);return this},t.prototype.fillText=function(t,i,e,n){return void 0===n&&(n=0),x(this.__useEl,this.__config,i,e,n),this.__useEl.textContent=t,v(this.__useEl,this.__config),this},t.prototype.strokeText=function(t,i,e,n){return void 0===n&&(n=0),x(this.__useEl,this.__config,i,e,n),this.__useEl.textContent=t,y(this.__useEl,this.__config),this},t.prototype.fullText=function(t,i,e,n){return void 0===n&&(n=0),x(this.__useEl,this.__config,i,e,n),this.__useEl.textContent=t,g(this.__useEl,this.__config),this},t.prototype.fillArc=function(t,i,e,n,r,o){return C(this.__useEl,this.__config,t,i,e,n,r,o),v(this.__useEl,this.__config),this},t.prototype.strokeArc=function(t,i,e,n,r,o){return C(this.__useEl,this.__config,t,i,e,n,r,o),y(this.__useEl,this.__config),this},t.prototype.fullArc=function(t,i,e,n,r,o){return C(this.__useEl,this.__config,t,i,e,n,r,o),g(this.__useEl,this.__config),this},t.prototype.fillCircle=function(t,i,e){return T(this.__useEl,t,i,e),v(this.__useEl,this.__config),this},t.prototype.strokeCircle=function(t,i,e){return T(this.__useEl,t,i,e),y(this.__useEl,this.__config),this},t.prototype.fullCircle=function(t,i,e){return T(this.__useEl,t,i,e),g(this.__useEl,this.__config),this},t.prototype.fillRect=function(t,i,e,n){return P(this.__useEl,t,i,e,n),v(this.__useEl,this.__config),this},t.prototype.strokeRect=function(t,i,e,n){return P(this.__useEl,t,i,e,n),y(this.__useEl,this.__config),this},t.prototype.fullRect=function(t,i,e,n){return P(this.__useEl,t,i,e,n),g(this.__useEl,this.__config),this},t.prototype.beginPath=function(){return this.__currentPosition=[],this.__path="",this},t.prototype.closePath=function(){return this.__path+="Z",this},t.prototype.moveTo=function(t,i){return this.__currentPosition=[t,i],this.__path+="M"+t+" "+i,this},t.prototype.lineTo=function(t,i){return this.__currentPosition=[t,i],this.__path+=(""==this.__path?"M":"L")+t+" "+i,this},t.prototype.fill=function(){return b(this.__useEl,this.__path),v(this.__useEl,this.__config),this},t.prototype.stroke=function(){return b(this.__useEl,this.__path),y(this.__useEl,this.__config),this},t.prototype.full=function(){return b(this.__useEl,this.__path),g(this.__useEl,this.__config),this},t.prototype.arc=function(t,i,e,n,r){var s=o(t,i,n/180*Math.PI,t+e,i),a=o(t,i,(n+r)/180*Math.PI,t+e,i);return""==this.__path?this.__path+="M"+s[0]+","+s[1]:s[0]==this.__currentPosition[0]&&s[1]==this.__currentPosition[1]||(this.__path+="L"+s[0]+","+s[1]),this.__path+="A"+e+","+e+" 0 "+(r>180||r<-180?1:0)+","+(r>0?1:0)+" "+a[0]+","+a[1],this},t.prototype.quadraticCurveTo=function(t,i,e,n){return this.__path+="Q"+t+" "+i+","+e+" "+n,this},t.prototype.bezierCurveTo=function(t,i,e,n,r,o){return this.__path+="C"+t+" "+i+","+e+" "+n+","+r+" "+o,this},t.prototype.bind=function(t,i){return this.__useEl.addEventListener(t,(function(t){i.call(this,t,this)}),!1),this},t.prototype.createLinearGradient=function(t,i,e,n){return function(t,i,e,n,r){var o=w(t),s="vislite-lg-"+(new Date).valueOf()+"-"+Math.random(),a=p("linearGradient");return o.appendChild(a),d(a,"id",s),d(a,"x1",i+"%"),d(a,"y1",e+"%"),d(a,"x2",n+"%"),d(a,"y2",r+"%"),R(a,s)}(this.__svg,t,i,e,n)},t.prototype.createRadialGradient=function(t,i,e){return function(t,i,e,n){var r=w(t),o="vislite-rg-"+(new Date).valueOf()+"-"+Math.random(),s=p("radialGradient");return r.appendChild(s),d(s,"id",o),d(s,"cx",i+"%"),d(s,"cy",e+"%"),d(s,"r",n+"%"),R(s,o)}(this.__svg,t,i,e)},t}(),M=function(t){function i(i){if(!i)throw new Error("VISLite SVG:The mount point requires an HTMLElement type but encountered null.");var e=i.clientWidth,n=i.clientHeight,r=document.createElementNS("http://www.w3.org/2000/svg","svg");return i.appendChild(r),r.setAttribute("width",e+""),r.setAttribute("height",n+""),r.setAttribute("viewBox","0 0 "+e+" "+n),t.call(this,r)||this}return l(i,t),i}(S),A=function(t,i,e,n,r){return t.beginPath(),t.translate(e,n),t.rotate(r),t.font=i.fontStyle+" "+i.fontWeight+" "+i.fontSize+"px "+i.fontFamily,t},I=function(t,i,e,n,r,o,s,a){if(r>o){var h=r;r=o,o=h}return s%=2*Math.PI,a>=1.999999*Math.PI||a<=1.999999*-Math.PI?a=2*Math.PI:a%=2*Math.PI,E(s,a,e,n,r,o,(function(s,a,h,_,u,l,c,p,f,d,g){g<0&&(g=-g),t.beginPath(),t.moveTo(h,_),t.arc(e,n,r,s,a,!1),"round"==i.arcEndCap?t.arc(.5*(c+f),.5*(p+d),g,a-Math.PI,a,!0):"-round"==i.arcEndCap?t.arc(.5*(c+f),.5*(p+d),g,a-Math.PI,a,!1):t.lineTo(f,d),t.arc(e,n,o,a,s,!0),"round"==i.arcStartCap?t.arc(.5*(h+u),.5*(_+l),g,s,s-Math.PI,!0):"-round"==i.arcStartCap?t.arc(.5*(h+u),.5*(_+l),g,s,s-Math.PI,!1):t.lineTo(h,_)})),"butt"==i.arcStartCap&&t.closePath(),t},k=function(t,i,e,n){return t.beginPath(),t.moveTo(i+n,e),t.arc(i,e,n,0,2*Math.PI),t},L=function(t,i,e,n,r){return t.beginPath(),t.rect(i,e,n,r),t};function O(t,i,e,n,r){for(var o=0,s="",a=0;a<i.length;a++)t.measureText(s+i[a]).width>e||/\n$/.test(s)?(r(s,((o+=1)-.5)*n),s=i[a]):a==i.length-1?(o+=1,r(s+i[a],(o-.5)*n)):s+=i[a];return o*n}var F=function(){function t(t,i,e,n,r){void 0===i&&(i={}),void 0===n&&(n=!1),this.__region=null,this.__onlyRegion=!1,this.__specialConfig={fontSize:16,fontFamily:"sans-serif",fontWeight:400,fontStyle:"normal",arcStartCap:"butt",arcEndCap:"butt"},this.__initConfig={fillStyle:"black",strokeStyle:"black",lineWidth:1,textAlign:"left",textBaseline:"middle",lineDash:[],shadowBlur:0,shadowColor:"black"},this.painter=t.getContext("2d",i),this.__region=e,this.__isPainter=n,this.painter.textBaseline="middle",this.painter.textAlign="left"}return t.prototype.useConfig=function(t,i){if(this.__region&&["fillStyle","strokeStyle","shadowBlur","shadowColor"].indexOf(t)<0&&this.__region.useConfig(t,i),this.__isPainter&&this.__onlyRegion)return this;if("lineDash"==t)this.painter.setLineDash&&this.painter.setLineDash(i);else if(t in this.__specialConfig)"fontSize"==t&&(i=Math.round(i)),this.__specialConfig[t]=i;else{if(!(t in this.__initConfig))throw new Error("Illegal configuration item of painter : "+t+" !");this.painter[t]=i}return this},t.prototype.fillText=function(t,i,e,n){return void 0===n&&(n=0),this.__region&&this.__region.fillText(t,i,e,n),this.__isPainter&&this.__onlyRegion||(this.painter.save(),A(this.painter,this.__specialConfig,i,e,n).fillText(t,0,0),this.painter.restore()),this},t.prototype.strokeText=function(t,i,e,n){return void 0===n&&(n=0),this.__region&&this.__region.strokeText(t,i,e,n),this.__isPainter&&this.__onlyRegion||(this.painter.save(),A(this.painter,this.__specialConfig,i,e,n).strokeText(t,0,0),this.painter.restore()),this},t.prototype.fullText=function(t,i,e,n){return void 0===n&&(n=0),this.__region&&this.__region.fullText(t,i,e,n),this.__isPainter&&this.__onlyRegion||(this.painter.save(),A(this.painter,this.__specialConfig,i,e,n),this.painter.fillText(t,0,0),this.painter.strokeText(t,0,0),this.painter.restore()),this},t.prototype.fillTexts=function(t,i,e,n,r,o){var s=this;void 0===r&&(r=1.2),void 0===o&&(o=0);var a=0;if(this.__region&&(a=this.__region.fillTexts(t,i,e,n,r)),this.__isPainter&&this.__onlyRegion)return a;this.painter.save(),A(this.painter,this.__specialConfig,i,e,o);var h=O(this.painter,t,n,this.__specialConfig.fontSize*r,(function(t,i){s.painter.fillText(t,0,i)}));return this.painter.restore(),h},t.prototype.strokeTexts=function(t,i,e,n,r,o){var s=this;void 0===r&&(r=1.2),void 0===o&&(o=0);var a=0;if(this.__region&&(a=this.__region.fillTexts(t,i,e,n,r)),this.__isPainter&&this.__onlyRegion)return a;this.painter.save(),A(this.painter,this.__specialConfig,i,e,o);var h=O(this.painter,t,n,this.__specialConfig.fontSize*r,(function(t,i){s.painter.strokeText(t,0,i)}));return this.painter.restore(),h},t.prototype.fullTexts=function(t,i,e,n,r,o){var s=this;void 0===r&&(r=1.2),void 0===o&&(o=0);var a=0;if(this.__region&&(a=this.__region.fillTexts(t,i,e,n,r)),this.__isPainter&&this.__onlyRegion)return a;this.painter.save(),A(this.painter,this.__specialConfig,i,e,o);var h=O(this.painter,t,n,this.__specialConfig.fontSize*r,(function(t,i){s.painter.fillText(t,0,i),s.painter.strokeText(t,0,i)}));return this.painter.restore(),h},t.prototype.beginPath=function(){return this.__region&&this.__region.beginPath(),this.__isPainter&&this.__onlyRegion||this.painter.beginPath(),this},t.prototype.closePath=function(){return this.__region&&this.__region.closePath(),this.__isPainter&&this.__onlyRegion||this.painter.closePath(),this},t.prototype.moveTo=function(t,i){return this.__region&&this.__region.moveTo(t,i),this.__isPainter&&this.__onlyRegion||this.painter.moveTo(Math.round(t)+.5,Math.round(i)+.5),this},t.prototype.lineTo=function(t,i){return this.__region&&this.__region.lineTo(t,i),this.__isPainter&&this.__onlyRegion||this.painter.lineTo(Math.round(t)+.5,Math.round(i)+.5),this},t.prototype.arc=function(t,i,e,n,r){return this.__region&&this.__region.arc(t,i,e,n,r),this.__isPainter&&this.__onlyRegion||this.painter.arc(t,i,e,n,n+r,r<0),this},t.prototype.fill=function(){return this.__region&&this.__region.fill(),this.__isPainter&&this.__onlyRegion||this.painter.fill(),this},t.prototype.stroke=function(){return this.__region&&this.__region.stroke(),this.__isPainter&&this.__onlyRegion||this.painter.stroke(),this},t.prototype.full=function(){return this.__region&&this.__region.full(),this.__isPainter&&this.__onlyRegion||(this.painter.fill(),this.painter.stroke()),this},t.prototype.save=function(){return this.__region&&this.__region.save(),this.__isPainter&&this.__onlyRegion||this.painter.save(),this},t.prototype.restore=function(){return this.__region&&this.__region.restore(),this.__isPainter&&this.__onlyRegion||this.painter.restore(),this},t.prototype.clip=function(){return this.__region&&this.__region.clip(),this.__isPainter&&this.__onlyRegion||this.painter.clip(),this},t.prototype.quadraticCurveTo=function(t,i,e,n){return this.__region&&this.__region.quadraticCurveTo(t,i,e,n),this.__isPainter&&this.__onlyRegion||this.painter.quadraticCurveTo(t,i,e,n),this},t.prototype.bezierCurveTo=function(t,i,e,n,r,o){return this.__region&&this.__region.bezierCurveTo(t,i,e,n,r,o),this.__isPainter&&this.__onlyRegion||this.painter.bezierCurveTo(t,i,e,n,r,o),this},t.prototype.clearRect=function(t,i,e,n){return this.__region&&this.__region.clearRect(t,i,e,n),this.__isPainter&&this.__onlyRegion||this.painter.clearRect(t,i,e,n),this},t.prototype.fillArc=function(t,i,e,n,r,o){return this.__region&&this.__region.fillArc(t,i,e,n,r,o),this.__isPainter&&this.__onlyRegion||I(this.painter,this.__specialConfig,t,i,e,n,r,o).fill(),this},t.prototype.strokeArc=function(t,i,e,n,r,o){return this.__region&&this.__region.strokeArc(t,i,e,n,r,o),this.__isPainter&&this.__onlyRegion||I(this.painter,this.__specialConfig,t,i,e,n,r,o).stroke(),this},t.prototype.fullArc=function(t,i,e,n,r,o){return this.__region&&this.__region.fullArc(t,i,e,n,r,o),this.__isPainter&&this.__onlyRegion||(I(this.painter,this.__specialConfig,t,i,e,n,r,o),this.painter.fill(),this.painter.stroke()),this},t.prototype.fillCircle=function(t,i,e){return this.__region&&this.__region.fillCircle(t,i,e),this.__isPainter&&this.__onlyRegion||k(this.painter,t,i,e).fill(),this},t.prototype.strokeCircle=function(t,i,e){return this.__region&&this.__region.strokeCircle(t,i,e),this.__isPainter&&this.__onlyRegion||k(this.painter,t,i,e).stroke(),this},t.prototype.fullCircle=function(t,i,e){return this.__region&&this.__region.fullCircle(t,i,e),this.__isPainter&&this.__onlyRegion||(k(this.painter,t,i,e),this.painter.fill(),this.painter.stroke()),this},t.prototype.fillRect=function(t,i,e,n){return this.__region&&this.__region.fillRect(t,i,e,n),this.__isPainter&&this.__onlyRegion||L(this.painter,t,i,e,n).fill(),this},t.prototype.strokeRect=function(t,i,e,n){return this.__region&&this.__region.strokeRect(t,i,e,n),this.__isPainter&&this.__onlyRegion||L(this.painter,t,i,e,n).stroke(),this},t.prototype.fullRect=function(t,i,e,n){return this.__region&&this.__region.fullRect(t,i,e,n),this.__isPainter&&this.__onlyRegion||(L(this.painter,t,i,e,n),this.painter.fill(),this.painter.stroke()),this},t.prototype.draw=function(){return Promise.resolve()},t.prototype.drawImage=function(t,i,e,n,r,o){var s=this;return void 0===o&&(o=!1),new Promise((function(a){if(s.__region&&s.__region.fillRect(i,e,n,r),s.__isPainter&&s.__onlyRegion)a({});else if("string"!=typeof t||o)s.painter.drawImage(t,0,0,n,r,i,e,n,r),a({});else{var h=new Image;h.onload=function(){s.painter.drawImage(h,0,0,h.width,h.height,i,e,n,r),a({})},h.src=t}}))},t}(),N=function(t){var i={value:function(){return t},setColor:function(e,n){return t.addColorStop(e,n),i}};return i},U=function(t){function i(i,e,n,r){void 0===n&&(n={}),void 0===r&&(r=1);var o=t.call(this,i,n,e?new F(e,{willReadFrequently:!0}):void 0,!0,r)||this;return o.name="Canvas",o.__regionList={},o.__regionAssemble=function(t,i,e,n){for(var r=[],o=0;o<3;o++)r[o]=0;return function(){for(var t=0;t<3;t++){if(r[t]+10<255){r[t]=+(r[t]+10).toFixed(7);break}t<2&&(r[t]=0)}return r}}(),o.__scaleSize=r,o.setRegion(""),o}return l(i,t),i.prototype.config=function(t){for(var i in t)this.useConfig(i,t[i]);return this},i.prototype.onlyRegion=function(t){return this.__onlyRegion=t,this},i.prototype.setRegion=function(t){if(this.__region)if(t){if(null==this.__regionList[t]){var i=this.__regionAssemble();this.__regionList[t]="rgb("+i[0]+","+i[1]+","+i[2]+")"}this.__region.useConfig("fillStyle",this.__regionList[t])&&this.__region.useConfig("strokeStyle",this.__regionList[t])}else this.__region.useConfig("fillStyle","#000000")&&this.__region.useConfig("strokeStyle","#000000");return this},i.prototype.getRegion=function(t,i){var e=this;return new Promise((function(n){var r=e.__region?e.__region.painter.getImageData(t-.5,i-.5,1,1):{data:[0,0,0,0]},o=r.data,s=function(){if(e.__region)for(var t in e.__regionList)if("rgb("+o[0]+","+o[1]+","+o[2]+")"==e.__regionList[t]){n(t);break}n("")};o?s():r.then((function(t){o=t,s()}))}))},i.prototype.textWidth=function(t){this.painter.save(),A(this.painter,this.__specialConfig,0,0,0);var i=this.painter.measureText(t+"").width;return this.painter.restore(),i},i.prototype.getContext=function(t){return void 0===t&&(t=!1),t?this.__region?this.__region.painter:null:this.painter},i.prototype.getInfo=function(){return{width:this.painter.canvas.width/this.__scaleSize,height:this.painter.canvas.height/this.__scaleSize}},i.prototype.createLinearGradient=function(t,i,e,n){return function(t,i,e,n,r){var o=t.createLinearGradient(i,e,n,r);return N(o)}(this.painter,t,i,e,n)},i.prototype.createRadialGradient=function(t,i,e){return function(t,i,e,n){var r=t.createRadialGradient(i,e,0,i,e,n);return N(r)}(this.painter,t,i,e)},i.prototype.getColor=function(t,i){t*=this.__scaleSize,i*=this.__scaleSize;var e=this.painter.getImageData(t-.5,i-.5,1,1).data;return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")"},i}(F);function B(t,i){for(var e in t)i[e]=t[e];return i}var H=function(t){function i(i,e,n,r){void 0===e&&(e={}),void 0===n&&(n=0),void 0===r&&(r=0);var o=this;if(!i)throw new Error("VISLite Canvas:The mount point requires an HTMLElement type but encountered null.");e=B(e,{region:!0,willReadFrequently:!1}),n=n||i.clientWidth,r=r||i.clientHeight;var s,a=null,h=i;h._vislite_canvas_?(s=h._vislite_canvas_[0],a=h._vislite_canvas_[1]):(s=document.createElement("canvas"),i.appendChild(s),e.region&&(a=document.createElement("canvas")),h._vislite_canvas_=[s,a],i.setAttribute("vislite","Canvas"));for(var _=[a,s],u=0;u<_.length;u++){var l=_[u];l&&(l.style.width=n+"px",l.setAttribute("width",u*n+n+""),l.style.height=r+"px",l.setAttribute("height",u*r+r+""))}return(o=t.call(this,s,a,{willReadFrequently:e.willReadFrequently},2)||this).__canvas=s,o.painter.scale(2,2),o}return l(i,t),i.prototype.toDataURL=function(){var t=this;return new Promise((function(i){i(t.__canvas.toDataURL())}))},i}(U),D=function(t,i,e){var n=t.createShader(i);if(null==n)throw new Error("Unable to create shader!");if(t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error("Failed to compile shader:"+t.getShaderInfoLog(n));return n},z=function(){function t(t){this.__painter=t}return t.prototype.use=function(){return this.__painter.useProgram(this.program),this},t.prototype.compile=function(t,i){return this.program=function(t,i,e){var n=D(t,t.VERTEX_SHADER,i),r=D(t,t.FRAGMENT_SHADER,e),o=t.createProgram();if(t.attachShader(o,n),t.attachShader(o,r),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw new Error("Failed to link program: "+t.getProgramInfoLog(o));return o}(this.__painter,t,i),this},t}(),q=function(){function t(t,i,e){void 0===e&&(e=0),this.__painter=t,this.__type={"2d":t.TEXTURE_2D,cube:t.TEXTURE_CUBE_MAP}[i],this.__texture=function(t,i,e){var n=t.createTexture();return t.activeTexture(t["TEXTURE"+e]),t.bindTexture(i,n),n}(t,this.__type,e),t.texParameteri(this.__type,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(this.__type,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(this.__type,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(this.__type,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}return t.prototype.useImage=function(t){return function(t,i,e,n,r,o){t.texImage2D(i,0,n,n,r,o)}(this.__painter,this.__type,0,this.__painter.RGBA,this.__painter.UNSIGNED_BYTE,t),this},t.prototype.useCube=function(t,i,e){return function(t,i,e,n,r,o,s,a,h){for(var _,u=[t.TEXTURE_CUBE_MAP_POSITIVE_X,t.TEXTURE_CUBE_MAP_NEGATIVE_X,t.TEXTURE_CUBE_MAP_POSITIVE_Y,t.TEXTURE_CUBE_MAP_NEGATIVE_Y,t.TEXTURE_CUBE_MAP_POSITIVE_Z,t.TEXTURE_CUBE_MAP_NEGATIVE_Z],l=0;l<u.length;l++)o[l]&&(_=u[l],t.texImage2D(_,0,n,s,a,0,n,r,null),t.bindTexture(i,h),t.texImage2D(_,0,n,n,r,o[l]));t.generateMipmap(i)}(this.__painter,this.__type,0,this.__painter.RGBA,this.__painter.UNSIGNED_BYTE,t,i,e,this.__texture),this},t}(),G=function(){function t(t,i){void 0===i&&(i=!1),this.__painter=t,this.__isElement=i,this.__buffer=function(t){return t.createBuffer()}(t),this.__type=i?t.ELEMENT_ARRAY_BUFFER:t.ARRAY_BUFFER}return t.prototype.use=function(){return this.__painter.bindBuffer(this.__type,this.__buffer),this},t.prototype.write=function(t){return function(t,i,e,n){var r=e?t.ELEMENT_ARRAY_BUFFER:t.ARRAY_BUFFER;t.bufferData(r,i,n)}(this.__painter,t,this.__isElement,this.__painter.STATIC_DRAW),this.__fsize=t.BYTES_PER_ELEMENT,this},t.prototype.divide=function(t,i,e,n){return void 0===n&&(n=0),function(t,i,e,n,r,o,s){t.vertexAttribPointer(i,e,n,!1,r,o),t.enableVertexAttribArray(i)}(this.__painter,t,i,this.__painter.FLOAT,e*this.__fsize,n*this.__fsize),this},t}(),X=function(t,i,e,n){var r=Math.cos(t),o=Math.sin(t);return[i*r-e*o,i*o+e*r,n]},V=function(){function t(t,i){void 0===t&&(t=7),void 0===i&&(i=[107,36]),this.name="Eoap",this.__scale=t,this.__center=i}return t.prototype.use=function(t,i){var e,n,r,o,s=(e=(360-i)/180*Math.PI,n=100*this.__scale,0,0,r=Math.cos(e),o=Math.sin(e),[0*o+n*r,0,0*r-n*o]);return s=X(t/180*Math.PI,s[0],s[1],s[2]),s=X((90-this.__center[0])/180*Math.PI,s[0],s[1],s[2]),s=function(t,i,e,n){var r=Math.cos(t),o=Math.sin(t);return[i,e*r-n*o,e*o+n*r]}((90-this.__center[1])/180*Math.PI,s[0],s[1],s[2]),[-s[0],s[1],s[2]]},t}(),Y=function(){function t(t){void 0===t&&(t={}),this.name="Tree",this.__config=B(t,{root:function(t){return t},children:function(t){return t.children},id:function(t){return t.name}})}return t.prototype.use=function(t,i){return void 0===i&&(i={}),function(t,i,e){var n=function(t,i){var e,n,r={},o=i.root(t);e=n=i.id(o),r[e]={data:o,pid:null,id:e,isOpen:!0,show:!0,children:[]};var s=1;return function n(o,a){var h=i.children(o,t);s+=h?h.length:0;for(var _=0;h&&_<h.length;_++)e=i.id(h[_]),r[a].children.push(e),r[e]={data:h[_],pid:a,id:e,isOpen:!0,show:!0,children:[]},n(h[_],e)}(o,e),{rid:n,value:r,num:s}}(t,i),r=n.value,o=n.rid;if(1==n.num)return r[o].left=.5,r[o].top=.5,r[o].show=!0,{deep:1,node:r,root:o,size:1};var s=[],a=0,h=0;for(var _ in e[o]?(r[o].left=.5,r[o].top=.5,r[o].show=!0,a=1):function t(i,n){n>h&&(h=n);var o=0;if(!e[i.id])for(o=0;o<i.children.length;o++)t(r[i.children[o]],n+1);if(r[i.id].left=n+.5,0==o?(null==s[n]&&(s[n]=-.5),null==s[n-1]&&(s[n-1]=-.5),r[i.id].top=s[n]+1,s[n]+1+.5*(r[i.pid].children.length-1)-1<s[n-1]&&(r[i.id].top=s[n-1]+1-.5*(r[i.pid].children.length-1))):r[i.id].top=.5*(r[i.children[0]].top+r[i.children[o-1]].top),r[i.id].top<=s[n])var _=s[n]+1-r[i.id].top((function t(i,e){r[i].top+=_,s[e]<r[i].top&&(s[e]=r[i].top);for(var n=0;n<r[i].children.length;n++)t(r[i].children[n],e+1)}))(i.id,n);s[n]=r[i.id].top,r[i.id].top+.5>a&&(a=r[i.id].top+.5)}(r[o],0),e)e[_]&&(r[_].isOpen=!1,function t(i,e,n){for(var o=0;o<r[i].children.length;o++)r[r[i].children[o]].left=e,r[r[i].children[o]].top=n,r[r[i].children[o]].show=!1,t(r[i].children[o],e,n)}(_,r[_].left,r[_].top));return{node:r,root:o,size:a,deep:h+1}}(t,this.__config,i)},t}(),W=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.name="TreeLayout",i.__option={offsetX:0,offsetY:0,duration:500,type:"plain",direction:"LR",x:100,y:100,width:100,height:100,radius:100},i.__noOpens={},i}return l(i,t),i.prototype.setOption=function(t){return B(t,this.__option),this},i.prototype.use=function(i,e){void 0===e&&(e={});var n=t.prototype.use.call(this,i,e);if(0!=this.__option.offsetX||0!=this.__option.offsetY)for(var r in n.node)if(!n.node[r].show){var s=0,a=r;do{a=n.node[a].pid,s++}while(!n.node[a].show);n.node[r].left+=this.__option.offsetX*s,n.node[r].top+=this.__option.offsetY*s}if("rect"==this.__option.type){if("LR"==this.__option.direction||"RL"==this.__option.direction){var h=this.__option.height/n.size,_=this.__option.width/(n.deep-1),u=this.__option.y-.5*this.__option.height,l="LR"==this.__option.direction?1:-1;for(var r in n.node)1==n.deep?(n.node[r].left=this.__option.x+.5*this.__option.width*l,n.node[r].top=this.__option.y):(n.node[r].left=this.__option.x+(n.node[r].left-.5)*_*l,n.node[r].top=n.node[r].top*h+u)}else if("TB"==this.__option.direction||"BT"==this.__option.direction)for(var r in h=this.__option.width/n.size,_=this.__option.height/(n.deep-1),u=this.__option.x-.5*this.__option.width,l="TB"==this.__option.direction?1:-1,n.node)if(1==n.deep)n.node[r].left=this.__option.x,n.node[r].top=this.__option.y+.5*this.__option.height*l;else{var c=n.node[r].left;n.node[r].left=n.node[r].top*h+u,n.node[r].top=this.__option.y+(c-.5)*_*l}}else if("circle"==this.__option.type){var p=this.__option.x,f=this.__option.y,d=2*Math.PI/n.size,g=this.__option.radius/(n.deep-1);for(var r in n.node)if(.5==n.node[r].left)n.node[r].left=p,n.node[r].top=f;else{var v=o(p,f,d*n.node[r].top,p+(n.node[r].left-.5)*g,f);n.node[r].left=v[0],n.node[r].top=v[1]}}return n},i.prototype.bind=function(t,i,e){return void 0===e&&(e={}),this.__rback=i,this.__oralTree=t,this.__noOpens=e,this.__preTree=this.use(this.__oralTree,this.__noOpens),this.__rback(this.__preTree),this},i.prototype.unbind=function(){return this.__rback=function(){return null},this.__oralTree=null,this.__preTree=null,this.__noOpens={},this},i.prototype.doUpdate=function(){var t=this,i=this.use(this.__oralTree,this.__noOpens),e=JSON.parse(JSON.stringify(i));_((function(n){if(t.__preTree)for(var r in e.node)(i.node[r].show||t.__preTree.node[r].show)&&(e.node[r].show=!0,e.node[r].left=t.__preTree.node[r].left+(i.node[r].left-t.__preTree.node[r].left)*n,e.node[r].top=t.__preTree.node[r].top+(i.node[r].top-t.__preTree.node[r].top)*n);t.__rback(e)}),this.__option.duration,(function(){t.__preTree=i,t.__rback(t.__preTree)}))},i.prototype.closeNode=function(t){return this.__preTree?(this.__noOpens[t]=!0,this.doUpdate(),this):this},i.prototype.openNode=function(t){return this.__preTree?(this.__noOpens[t]=!1,this.doUpdate(),this):this},i.prototype.toggleNode=function(t){return this.__preTree?(this.__noOpens[t]=!this.__noOpens[t],this.doUpdate(),this):this},i}(Y),j={Cardinal:i,Hermite:t,Matrix4:r,rotate:o,move:function(t,i,e,n,r){var o=Math.sqrt(t*t+i*i);return[t*e/o+n,i*e/o+r]},scale:function(t,i,e,n,r){return[e*(n-t)+t,e*(r-i)+i]},getLoopColors:function(t,i){void 0===i&&(i=1);var e=["rgba(84,112,198,"+i+")","rgba(145,204,117,"+i+")","rgba(250,200,88,"+i+")","rgba(238,102,102,"+i+")","rgba(115,192,222,"+i+")","rgba(59,162,114,"+i+")","rgba(252,132,82,"+i+")","rgba(154,96,180,"+i+")","rgba(234,124,204,"+i+")"],n=[];if(t<=e.length)return e;if(t%e.length==0)for(var r=0;r<t/e.length;r++)n=n.concat(e);else{for(var o=1;o<t/e.length;o++)n=n.concat(e);if(t%e.length==1)n=n.concat(e[4]);else for(var s=0;s<t%e.length;s++)n=n.concat(e[s])}return n},animation:_,ruler:function(t,i,e,n){if(t<i){var r=i;i=t,t=r}else if(t==i)return[t];var o=function(t){for(var i=t<100&&t>-100?10:.1,e=-1,n=t;10==i?n>=-100&&n<=100:n<=-100||n>=100;)e+=1,n*=i;if(10==i)return Math.pow(10,e);for(var r="0.",o=1;o<e;o++)r+="0";return+(r+"1")}(t-i),s=Math.ceil((t-i)*o/e),a=function(e){var n=({3:2,4:5,6:5,7:5,8:10,9:10,11:10,12:10,13:15,14:15,16:15,17:15,18:20,19:20,21:20,22:20,23:25,24:25,26:25,27:25}[s+e]||s+e)/o,r=Math.floor(i/n)*n,a=[];a.push(r);for(var h=1;a[a.length-1]<t;h++)a.push(r+n*h);return a},h=a(0),_=function(){for(var t=[],e=h[h.length-1]-(null==n?void 0:n.max),r=0;r<h.length;r++)r+1<h.length&&h[r+1]-e<i||t.push(h[r]-e);return t},u=function(){for(var i=[],e=h[0]-(null==n?void 0:n.min),r=0;r<h.length&&(i[r]=h[r]-e,!(t<=i[r]));r++);return i};if(n){if("max"in n&&"min"in n&&n.max>=t&&n.min<=i){var l=function(){if(h[0]>=n.min&&h[h.length-1]<=n.max)return!0;var t=_();if(t[0]>=n.min&&t[t.length-1]<=n.max)return h=t,!0;var i=u();return i[0]>=n.min&&i[t.length-1]<=n.max?(h=i,!0):void 0};if(l())return h;for(var c=1;c<100;c++){if(h=a(c),l())return h;if(h=a(-c),l())return h}}"max"in n&&n.max>=t?n.max<h[h.length-1]&&(h=_()):"min"in n&&n.min<=i&&n.min>h[0]&&(h=u())}for(var p=0;p<h.length;p++){var f=h[p]+"";/\./.test(f)&&(/9{7,}$/.test(f)?(f=f.replace(/9{7,}$/,""),h[p]=+(f.substring(0,f.length-1)+(+f[f.length-1]+1))):/0{7,}\d$/.test(f)&&(h[p]=+f.replace(/0{7,}\d$/,"")))}return h},SVG:M,Canvas:H,RawCanvas:U,getWebGLContext:function(t,i,e){if(void 0===i&&(i=1),!t)throw new Error("VISLite getWebGLContext:The mount point requires an HTMLElement type but encountered null.");var n,r=t.clientWidth,o=t.clientHeight,s=t;return s._vislite_canvas_?n=s._vislite_canvas_:(n=document.createElement("canvas"),t.appendChild(n),s._vislite_canvas_=n,t.setAttribute("vislite","WebGL")),n.style.width=r+"px",n.setAttribute("width",r+""),n.style.height=o+"px",n.setAttribute("height",o+""),function(t,i,e,n){void 0===e&&(e={}),void 0===n&&(n="scaleToFill");for(var r=["experimental-webgl","webkit-3d","moz-webgl"],o=t.getContext("webgl",e),s=0;s<r.length;s++){try{o=t.getContext(r[s],e)}catch(t){}if(o)break}if(!o)throw new Error("Non canvas or browser does not support webgl.");var a=o.canvas.width,h=o.canvas.height,_=i,u=i;"aspectFit"==n?a>h?_*=h/a:h>a&&(u*=a/h):"aspectFill"==n&&(a>h?u*=a/h:h>a&&(_*=h/a));var l=a*_,c=h*u;return o.viewport(.5*(a-l),.5*(h-c),l,c),o.depthFunc(o.LEQUAL),o.enable(o.DEPTH_TEST),o}(n,i,{},e)},Shader:z,Texture:q,Buffer:G,Eoap:V,Mercator:function(t,i){void 0===t&&(t=7),void 0===i&&(i=[107,36]),this.name="Mercator";var e=100*t*Math.PI/180,n=e*i[0],r=-1*e*i[1];this.use=function(t,i){return[.8*(e*t-n),-1*e*i-r,0]}},throttle:function(t,i){void 0===i&&(i={}),i=B(i,{time:200,keep:!1,opportunity:"end"});var e,n=!1,r=!1,o=!1;return function(){var s=this;if(e=arguments,n)r=!0,o=!0;else{"end"!=i.opportunity&&t.apply(s,e),n=!0;var a=setInterval((function(){r?i.keep||t.apply(s,e):("begin"!=i.opportunity&&(o||"end"==i.opportunity)&&t.apply(s,e),n=!1,o=!1,clearInterval(a)),r=!1}),i.time)}}},TreeLayout:W};return j},"object"==s(i)&&"undefined"!=typeof t?t.exports=o():(n=o,r="function"===typeof n?n.call(i,e,i,t):n,void 0===r||(t.exports=r))},a094:function(t,i,e){"use strict";e("7a82");var n=e("ee27").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("a9e3"),e("d3b7"),e("ac1f");var r=e("498c"),o=n(e("30dd")),s={data:function(){return{uniqueid:(1e4*Math.random()).toFixed(0),help:{},viewImg:"",isH5:!0,hadFetch:!1}},props:{width:{type:Number,default:300},height:{type:Number,default:150},cover:{type:Boolean,default:!0},region:{type:Boolean,default:!0}},methods:{fetch:function(){var t,i,e,n,s=this;t=uni.createCanvasContext("painter-"+this.uniqueid,this),this.region&&(i=uni.createCanvasContext("region-"+this.uniqueid,this)),e="painter-"+this.uniqueid,n="region-"+this.uniqueid;var a=this;return this.help.instance=new r.RawCanvas({getContext:function(){return t}},a.region?{getContext:function(){return i.getImageData=function(t,i,e,r){return new Promise((function(o,s){var h={x:t,y:i,width:e,height:r,canvasId:n,success:function(t){o(t.data)},fail:function(t){s(t)}};uni.canvasGetImageData(h,a)}))},i}}:null,1),this.help.instance.draw=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t.draw(n,(function(){s.cover||s.isH5?(a.region&&i.draw(n),r()):uni.canvasToTempFilePath({canvasId:e,success:function(t){s.viewImg=t.tempFilePath,a.region&&i.draw(n),r()}},s)}))},this.hadFetch=!0,new Promise((function(t,i){s.help.instance.toDataURL=function(){return new Promise((function(t){uni.canvasToTempFilePath({canvasId:e,success:function(i){t(i.tempFilePath)}},s)}))},s.help.instance.drawImage=(0,o.default)(s.help.instance,s.help.instance.drawImage),t(s.help.instance)}))},doit:function(t){var i=this,e=function(t,e){i.help.instance.getRegion(t,e).then((function(n){i.$emit("dotouchstart",{name:n,x:t,y:e})}))};if(this.cover||this.isH5){var n=t.touches[0].x,r=t.touches[0].y;e(n,r)}else uni.createSelectorQuery().selectViewport().scrollOffset().exec((function(n){uni.createSelectorQuery().in(i).select(".view-"+i.uniqueid).boundingClientRect((function(i){e(t.touches[0].pageX-i.left-n[0].scrollLeft,t.touches[0].pageY-i.top-n[0].scrollTop)})).exec()}))},doitstart:function(t){this.doit(t)}}};i.default=s},c215:function(t,i,e){"use strict";e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return r})),e.d(i,"a",(function(){}));var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{class:t.cover||t.isH5?"cover-view":"normal-view",style:{display:"inline-block"}},[t.cover||t.isH5?t._e():e("v-uni-view",{class:"view-img view-"+t.uniqueid,on:{touchstart:function(i){arguments[0]=i=t.$handleEvent(i),t.doitstart.apply(void 0,arguments)}}},[e("v-uni-image",{style:{width:t.width+"px",height:t.height+"px"},attrs:{src:t.viewImg}})],1),e("v-uni-canvas",{staticClass:"painter",style:[{width:t.width+"px",height:t.height+"px"},t.cover||t.isH5?{}:{position:"fixed",left:"50000px"}],attrs:{"canvas-id":"painter-"+t.uniqueid},on:{touchstart:function(i){arguments[0]=i=t.$handleEvent(i),t.doitstart.apply(void 0,arguments)}}}),t.region?e("v-uni-canvas",{staticClass:"region",style:{width:t.width+"px",height:t.height+"px",position:"fixed",left:"50000px"},attrs:{"canvas-id":"region-"+t.uniqueid}}):t._e()],1)},r=[]},cb29:function(t,i,e){"use strict";var n=e("23e7"),r=e("81d5"),o=e("44d2");n({target:"Array",proto:!0},{fill:r}),o("fill")},cc6e:function(t,i,e){"use strict";e.r(i);var n=e("a094"),r=e.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);i["default"]=r.a}}]);